{"dependencies":[{"name":"../skia","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":31,"index":31}}],"key":"Lpu2nVaO1EXd4ggU7Psxd64qAx4=","exportNames":["*"],"imports":1}},{"name":"../Platform","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":32},"end":{"line":2,"column":39,"index":71}}],"key":"SkcN7Zi2IL0pUxWZCaWeI65icek=","exportNames":["*"],"imports":1}},{"name":"../sksg/Reconciler","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":72},"end":{"line":3,"column":48,"index":120}}],"key":"DeHs3WhMLPm5P1oaJyJ8IyGNIPY=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"isOnMainThread\", {\n    enumerable: true,\n    get: function () {\n      return isOnMainThread;\n    }\n  });\n  Object.defineProperty(exports, \"drawAsPicture\", {\n    enumerable: true,\n    get: function () {\n      return drawAsPicture;\n    }\n  });\n  Object.defineProperty(exports, \"drawAsImage\", {\n    enumerable: true,\n    get: function () {\n      return drawAsImage;\n    }\n  });\n  Object.defineProperty(exports, \"drawAsImageFromPicture\", {\n    enumerable: true,\n    get: function () {\n      return drawAsImageFromPicture;\n    }\n  });\n  var _skia = require(_dependencyMap[0], \"../skia\");\n  var _Platform = require(_dependencyMap[1], \"../Platform\");\n  var _sksgReconciler = require(_dependencyMap[2], \"../sksg/Reconciler\");\n  const isOnMainThread = () => {\n    \"worklet\";\n\n    return typeof _WORKLET !== \"undefined\" && _WORKLET === true || _Platform.Platform.OS === \"web\";\n  };\n  const drawAsPicture = async (element, bounds) => {\n    const recorder = _skia.Skia.PictureRecorder();\n    const canvas = recorder.beginRecording(bounds);\n    const root = new _sksgReconciler.SkiaSGRoot(_skia.Skia);\n    await root.render(element);\n    root.drawOnCanvas(canvas);\n    const picture = recorder.finishRecordingAsPicture();\n    root.unmount();\n    return picture;\n  };\n  const drawAsImage = async (element, size) => {\n    return drawAsImageFromPicture(await drawAsPicture(element), size);\n  };\n  const drawAsImageFromPicture = (picture, size) => {\n    \"worklet\";\n\n    const surface = _skia.Skia.Surface.MakeOffscreen(size.width, size.height);\n    const canvas = surface.getCanvas();\n    canvas.drawPicture(picture);\n    surface.flush();\n    const image = surface.makeImageSnapshot();\n    return image.makeNonTextureImage();\n  };\n});","lineCount":62,"map":[[7,2,4,0,"Object"],[7,8,4,0],[7,9,4,0,"defineProperty"],[7,23,4,0],[7,24,4,0,"exports"],[7,31,4,0],[8,4,4,0,"enumerable"],[8,14,4,0],[9,4,4,0,"get"],[9,7,4,0],[9,18,4,0,"get"],[9,19,4,0],[10,6,4,0],[10,13,4,0,"isOnMainThread"],[10,27,4,0],[11,4,4,0],[12,2,4,0],[13,2,9,0,"Object"],[13,8,9,0],[13,9,9,0,"defineProperty"],[13,23,9,0],[13,24,9,0,"exports"],[13,31,9,0],[14,4,9,0,"enumerable"],[14,14,9,0],[15,4,9,0,"get"],[15,7,9,0],[15,18,9,0,"get"],[15,19,9,0],[16,6,9,0],[16,13,9,0,"drawAsPicture"],[16,26,9,0],[17,4,9,0],[18,2,9,0],[19,2,19,0,"Object"],[19,8,19,0],[19,9,19,0,"defineProperty"],[19,23,19,0],[19,24,19,0,"exports"],[19,31,19,0],[20,4,19,0,"enumerable"],[20,14,19,0],[21,4,19,0,"get"],[21,7,19,0],[21,18,19,0,"get"],[21,19,19,0],[22,6,19,0],[22,13,19,0,"drawAsImage"],[22,24,19,0],[23,4,19,0],[24,2,19,0],[25,2,22,0,"Object"],[25,8,22,0],[25,9,22,0,"defineProperty"],[25,23,22,0],[25,24,22,0,"exports"],[25,31,22,0],[26,4,22,0,"enumerable"],[26,14,22,0],[27,4,22,0,"get"],[27,7,22,0],[27,18,22,0,"get"],[27,19,22,0],[28,6,22,0],[28,13,22,0,"drawAsImageFromPicture"],[28,35,22,0],[29,4,22,0],[30,2,22,0],[31,2,1,0],[31,6,1,0,"_skia"],[31,11,1,0],[31,14,1,0,"require"],[31,21,1,0],[31,22,1,0,"_dependencyMap"],[31,36,1,0],[32,2,2,0],[32,6,2,0,"_Platform"],[32,15,2,0],[32,18,2,0,"require"],[32,25,2,0],[32,26,2,0,"_dependencyMap"],[32,40,2,0],[33,2,3,0],[33,6,3,0,"_sksgReconciler"],[33,21,3,0],[33,24,3,0,"require"],[33,31,3,0],[33,32,3,0,"_dependencyMap"],[33,46,3,0],[34,2,4,7],[34,8,4,13,"isOnMainThread"],[34,22,4,27],[34,25,4,30,"isOnMainThread"],[34,26,4,30],[34,31,4,36],[35,4,5,2],[35,13,5,11],[37,4,7,2],[37,11,7,9],[37,18,7,16,"_WORKLET"],[37,26,7,24],[37,31,7,29],[37,42,7,40],[37,46,7,44,"_WORKLET"],[37,54,7,52],[37,59,7,57],[37,63,7,61],[37,67,7,65,"Platform"],[37,76,7,73],[37,77,7,73,"Platform"],[37,85,7,73],[37,86,7,74,"OS"],[37,88,7,76],[37,93,7,81],[37,98,7,86],[38,2,8,0],[38,3,8,1],[39,2,9,7],[39,8,9,13,"drawAsPicture"],[39,21,9,26],[39,24,9,29],[39,30,9,29,"drawAsPicture"],[39,31,9,36,"element"],[39,38,9,43],[39,40,9,45,"bounds"],[39,46,9,51],[39,51,9,56],[40,4,10,2],[40,10,10,8,"recorder"],[40,18,10,16],[40,21,10,19,"Skia"],[40,26,10,23],[40,27,10,23,"Skia"],[40,31,10,23],[40,32,10,24,"PictureRecorder"],[40,47,10,39],[40,48,10,40],[40,49,10,41],[41,4,11,2],[41,10,11,8,"canvas"],[41,16,11,14],[41,19,11,17,"recorder"],[41,27,11,25],[41,28,11,26,"beginRecording"],[41,42,11,40],[41,43,11,41,"bounds"],[41,49,11,47],[41,50,11,48],[42,4,12,2],[42,10,12,8,"root"],[42,14,12,12],[42,17,12,15],[42,21,12,19,"SkiaSGRoot"],[42,36,12,29],[42,37,12,29,"SkiaSGRoot"],[42,47,12,29],[42,48,12,30,"Skia"],[42,53,12,34],[42,54,12,34,"Skia"],[42,58,12,34],[42,59,12,35],[43,4,13,2],[43,10,13,8,"root"],[43,14,13,12],[43,15,13,13,"render"],[43,21,13,19],[43,22,13,20,"element"],[43,29,13,27],[43,30,13,28],[44,4,14,2,"root"],[44,8,14,6],[44,9,14,7,"drawOnCanvas"],[44,21,14,19],[44,22,14,20,"canvas"],[44,28,14,26],[44,29,14,27],[45,4,15,2],[45,10,15,8,"picture"],[45,17,15,15],[45,20,15,18,"recorder"],[45,28,15,26],[45,29,15,27,"finishRecordingAsPicture"],[45,53,15,51],[45,54,15,52],[45,55,15,53],[46,4,16,2,"root"],[46,8,16,6],[46,9,16,7,"unmount"],[46,16,16,14],[46,17,16,15],[46,18,16,16],[47,4,17,2],[47,11,17,9,"picture"],[47,18,17,16],[48,2,18,0],[48,3,18,1],[49,2,19,7],[49,8,19,13,"drawAsImage"],[49,19,19,24],[49,22,19,27],[49,28,19,27,"drawAsImage"],[49,29,19,34,"element"],[49,36,19,41],[49,38,19,43,"size"],[49,42,19,47],[49,47,19,52],[50,4,20,2],[50,11,20,9,"drawAsImageFromPicture"],[50,33,20,31],[50,34,20,32],[50,40,20,38,"drawAsPicture"],[50,53,20,51],[50,54,20,52,"element"],[50,61,20,59],[50,62,20,60],[50,64,20,62,"size"],[50,68,20,66],[50,69,20,67],[51,2,21,0],[51,3,21,1],[52,2,22,7],[52,8,22,13,"drawAsImageFromPicture"],[52,30,22,35],[52,33,22,38,"drawAsImageFromPicture"],[52,34,22,39,"picture"],[52,41,22,46],[52,43,22,48,"size"],[52,47,22,52],[52,52,22,57],[53,4,23,2],[53,13,23,11],[55,4,25,2],[55,10,25,8,"surface"],[55,17,25,15],[55,20,25,18,"Skia"],[55,25,25,22],[55,26,25,22,"Skia"],[55,30,25,22],[55,31,25,23,"Surface"],[55,38,25,30],[55,39,25,31,"MakeOffscreen"],[55,52,25,44],[55,53,25,45,"size"],[55,57,25,49],[55,58,25,50,"width"],[55,63,25,55],[55,65,25,57,"size"],[55,69,25,61],[55,70,25,62,"height"],[55,76,25,68],[55,77,25,69],[56,4,26,2],[56,10,26,8,"canvas"],[56,16,26,14],[56,19,26,17,"surface"],[56,26,26,24],[56,27,26,25,"getCanvas"],[56,36,26,34],[56,37,26,35],[56,38,26,36],[57,4,27,2,"canvas"],[57,10,27,8],[57,11,27,9,"drawPicture"],[57,22,27,20],[57,23,27,21,"picture"],[57,30,27,28],[57,31,27,29],[58,4,28,2,"surface"],[58,11,28,9],[58,12,28,10,"flush"],[58,17,28,15],[58,18,28,16],[58,19,28,17],[59,4,29,2],[59,10,29,8,"image"],[59,15,29,13],[59,18,29,16,"surface"],[59,25,29,23],[59,26,29,24,"makeImageSnapshot"],[59,43,29,41],[59,44,29,42],[59,45,29,43],[60,4,30,2],[60,11,30,9,"image"],[60,16,30,14],[60,17,30,15,"makeNonTextureImage"],[60,36,30,34],[60,37,30,35],[60,38,30,36],[61,2,31,0],[61,3,31,1],[62,0,31,2],[62,3]],"functionMap":{"names":["<global>","isOnMainThread","drawAsPicture","drawAsImage","drawAsImageFromPicture"],"mappings":"AAA;8BCG;CDI;6BEC;CFS;2BGC;CHE;sCIC;CJS"},"hasCjsExports":false},"type":"js/module"}]}