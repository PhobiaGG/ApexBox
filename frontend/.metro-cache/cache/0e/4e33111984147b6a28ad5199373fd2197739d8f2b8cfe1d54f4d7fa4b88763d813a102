{"dependencies":[],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"isShader\", {\n    enumerable: true,\n    get: function () {\n      return isShader;\n    }\n  });\n  Object.defineProperty(exports, \"processUniforms\", {\n    enumerable: true,\n    get: function () {\n      return processUniforms;\n    }\n  });\n  const isShader = obj => obj !== null && obj.__typename__ === \"Shader\";\n  const isVector = obj => {\n    \"worklet\";\n\n    // We have an issue to check property existence on JSI backed instances\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    return obj.x !== undefined && obj.y !== undefined;\n  };\n  function processValue(values, value) {\n    \"worklet\";\n\n    if (typeof value === \"number\") {\n      values.push(value);\n    } else if (Array.isArray(value)) {\n      value.forEach(v => processValue(values, v));\n    } else if (isVector(value)) {\n      values.push(value.x, value.y);\n    } else if (value instanceof Float32Array) {\n      values.push(...value);\n    }\n  }\n  const processUniforms = (source, uniforms, builder) => {\n    \"worklet\";\n\n    const result = [];\n    const uniformsCount = source.getUniformCount();\n    for (let i = 0; i < uniformsCount; i++) {\n      const name = source.getUniformName(i);\n      const value = uniforms[name];\n      if (value === undefined) {\n        throw new Error(`The runtime effect has the uniform value \"${name}\" declared, but it is missing from the uniforms property of the Runtime effect.`);\n      }\n      if (builder === undefined) {\n        processValue(result, value);\n      } else {\n        const uniformValue = [];\n        processValue(uniformValue, value);\n        builder.setUniform(name, uniformValue);\n        result.push(...uniformValue);\n      }\n    }\n    return result;\n  };\n});","lineCount":62,"map":[[7,2,1,0,"Object"],[7,8,1,0],[7,9,1,0,"defineProperty"],[7,23,1,0],[7,24,1,0,"exports"],[7,31,1,0],[8,4,1,0,"enumerable"],[8,14,1,0],[9,4,1,0,"get"],[9,7,1,0],[9,18,1,0,"get"],[9,19,1,0],[10,6,1,0],[10,13,1,0,"isShader"],[10,21,1,0],[11,4,1,0],[12,2,1,0],[13,2,22,0,"Object"],[13,8,22,0],[13,9,22,0,"defineProperty"],[13,23,22,0],[13,24,22,0,"exports"],[13,31,22,0],[14,4,22,0,"enumerable"],[14,14,22,0],[15,4,22,0,"get"],[15,7,22,0],[15,18,22,0,"get"],[15,19,22,0],[16,6,22,0],[16,13,22,0,"processUniforms"],[16,28,22,0],[17,4,22,0],[18,2,22,0],[19,2,1,7],[19,8,1,13,"isShader"],[19,16,1,21],[19,19,1,24,"obj"],[19,22,1,27],[19,26,1,31,"obj"],[19,29,1,34],[19,34,1,39],[19,38,1,43],[19,42,1,47,"obj"],[19,45,1,50],[19,46,1,51,"__typename__"],[19,58,1,63],[19,63,1,68],[19,71,1,76],[20,2,2,0],[20,8,2,6,"isVector"],[20,16,2,14],[20,19,2,17,"obj"],[20,22,2,20],[20,26,2,24],[21,4,3,2],[21,13,3,11],[23,4,5,2],[24,4,6,2],[25,4,7,2],[25,11,7,9,"obj"],[25,14,7,12],[25,15,7,13,"x"],[25,16,7,14],[25,21,7,19,"undefined"],[25,30,7,28],[25,34,7,32,"obj"],[25,37,7,35],[25,38,7,36,"y"],[25,39,7,37],[25,44,7,42,"undefined"],[25,53,7,51],[26,2,8,0],[26,3,8,1],[27,2,9,0],[27,11,9,9,"processValue"],[27,23,9,21,"processValue"],[27,24,9,22,"values"],[27,30,9,28],[27,32,9,30,"value"],[27,37,9,35],[27,39,9,37],[28,4,10,2],[28,13,10,11],[30,4,12,2],[30,8,12,6],[30,15,12,13,"value"],[30,20,12,18],[30,25,12,23],[30,33,12,31],[30,35,12,33],[31,6,13,4,"values"],[31,12,13,10],[31,13,13,11,"push"],[31,17,13,15],[31,18,13,16,"value"],[31,23,13,21],[31,24,13,22],[32,4,14,2],[32,5,14,3],[32,11,14,9],[32,15,14,13,"Array"],[32,20,14,18],[32,21,14,19,"isArray"],[32,28,14,26],[32,29,14,27,"value"],[32,34,14,32],[32,35,14,33],[32,37,14,35],[33,6,15,4,"value"],[33,11,15,9],[33,12,15,10,"forEach"],[33,19,15,17],[33,20,15,18,"v"],[33,21,15,19],[33,25,15,23,"processValue"],[33,37,15,35],[33,38,15,36,"values"],[33,44,15,42],[33,46,15,44,"v"],[33,47,15,45],[33,48,15,46],[33,49,15,47],[34,4,16,2],[34,5,16,3],[34,11,16,9],[34,15,16,13,"isVector"],[34,23,16,21],[34,24,16,22,"value"],[34,29,16,27],[34,30,16,28],[34,32,16,30],[35,6,17,4,"values"],[35,12,17,10],[35,13,17,11,"push"],[35,17,17,15],[35,18,17,16,"value"],[35,23,17,21],[35,24,17,22,"x"],[35,25,17,23],[35,27,17,25,"value"],[35,32,17,30],[35,33,17,31,"y"],[35,34,17,32],[35,35,17,33],[36,4,18,2],[36,5,18,3],[36,11,18,9],[36,15,18,13,"value"],[36,20,18,18],[36,32,18,30,"Float32Array"],[36,44,18,42],[36,46,18,44],[37,6,19,4,"values"],[37,12,19,10],[37,13,19,11,"push"],[37,17,19,15],[37,18,19,16],[37,21,19,19,"value"],[37,26,19,24],[37,27,19,25],[38,4,20,2],[39,2,21,0],[40,2,22,7],[40,8,22,13,"processUniforms"],[40,23,22,28],[40,26,22,31,"processUniforms"],[40,27,22,32,"source"],[40,33,22,38],[40,35,22,40,"uniforms"],[40,43,22,48],[40,45,22,50,"builder"],[40,52,22,57],[40,57,22,62],[41,4,23,2],[41,13,23,11],[43,4,25,2],[43,10,25,8,"result"],[43,16,25,14],[43,19,25,17],[43,21,25,19],[44,4,26,2],[44,10,26,8,"uniformsCount"],[44,23,26,21],[44,26,26,24,"source"],[44,32,26,30],[44,33,26,31,"getUniformCount"],[44,48,26,46],[44,49,26,47],[44,50,26,48],[45,4,27,2],[45,9,27,7],[45,13,27,11,"i"],[45,14,27,12],[45,17,27,15],[45,18,27,16],[45,20,27,18,"i"],[45,21,27,19],[45,24,27,22,"uniformsCount"],[45,37,27,35],[45,39,27,37,"i"],[45,40,27,38],[45,42,27,40],[45,44,27,42],[46,6,28,4],[46,12,28,10,"name"],[46,16,28,14],[46,19,28,17,"source"],[46,25,28,23],[46,26,28,24,"getUniformName"],[46,40,28,38],[46,41,28,39,"i"],[46,42,28,40],[46,43,28,41],[47,6,29,4],[47,12,29,10,"value"],[47,17,29,15],[47,20,29,18,"uniforms"],[47,28,29,26],[47,29,29,27,"name"],[47,33,29,31],[47,34,29,32],[48,6,30,4],[48,10,30,8,"value"],[48,15,30,13],[48,20,30,18,"undefined"],[48,29,30,27],[48,31,30,29],[49,8,31,6],[49,14,31,12],[49,18,31,16,"Error"],[49,23,31,21],[49,24,31,22],[49,69,31,67,"name"],[49,73,31,71],[49,154,31,152],[49,155,31,153],[50,6,32,4],[51,6,33,4],[51,10,33,8,"builder"],[51,17,33,15],[51,22,33,20,"undefined"],[51,31,33,29],[51,33,33,31],[52,8,34,6,"processValue"],[52,20,34,18],[52,21,34,19,"result"],[52,27,34,25],[52,29,34,27,"value"],[52,34,34,32],[52,35,34,33],[53,6,35,4],[53,7,35,5],[53,13,35,11],[54,8,36,6],[54,14,36,12,"uniformValue"],[54,26,36,24],[54,29,36,27],[54,31,36,29],[55,8,37,6,"processValue"],[55,20,37,18],[55,21,37,19,"uniformValue"],[55,33,37,31],[55,35,37,33,"value"],[55,40,37,38],[55,41,37,39],[56,8,38,6,"builder"],[56,15,38,13],[56,16,38,14,"setUniform"],[56,26,38,24],[56,27,38,25,"name"],[56,31,38,29],[56,33,38,31,"uniformValue"],[56,45,38,43],[56,46,38,44],[57,8,39,6,"result"],[57,14,39,12],[57,15,39,13,"push"],[57,19,39,17],[57,20,39,18],[57,23,39,21,"uniformValue"],[57,35,39,33],[57,36,39,34],[58,6,40,4],[59,4,41,2],[60,4,42,2],[60,11,42,9,"result"],[60,17,42,15],[61,2,43,0],[61,3,43,1],[62,0,43,2],[62,3]],"functionMap":{"names":["<global>","isShader","isVector","processValue","value.forEach$argument_0","processUniforms"],"mappings":"AAA,wBC,oDD;iBEC;CFM;AGC;kBCM,4BD;CHM;+BKC;CLqB"},"hasCjsExports":false},"type":"js/module"}]}