{"dependencies":[{"name":"../external/reanimated/ReanimatedProxy","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":602},"end":{"line":4,"column":57,"index":659}}],"key":"fbTuz78GsadUAYKlaJ3h86Nz//A=","exportNames":["*"],"imports":1}},{"name":"../external/reanimated/renderHelpers","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":660},"end":{"line":5,"column":72,"index":732}}],"key":"yayQYbKx/OsJEYI8tbD4MpE63c4=","exportNames":["*"],"imports":1}},{"name":"./Recorder/Recorder","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":6,"column":0,"index":733},"end":{"line":6,"column":47,"index":780}}],"key":"Yp14ztT0BW00eyWGD2Q+Jzb1RBs=","exportNames":["*"],"imports":1}},{"name":"./Recorder/Visitor","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":7,"column":0,"index":781},"end":{"line":7,"column":43,"index":824}}],"key":"RtqQDEGXeMBLTYLIYom32UKkm90=","exportNames":["*"],"imports":1}},{"name":"./Recorder/Player","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":8,"column":0,"index":825},"end":{"line":8,"column":43,"index":868}}],"key":"X8N3vNeOigFvxdAqlMJQVthRzjg=","exportNames":["*"],"imports":1}},{"name":"./Recorder/DrawingContext","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":9,"column":0,"index":869},"end":{"line":9,"column":65,"index":934}}],"key":"XL/bDMuZBKua/NUqczqJSfGoxSw=","exportNames":["*"],"imports":1}},{"name":"./StaticContainer","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":10,"column":0,"index":935},"end":{"line":10,"column":63,"index":998}}],"key":"cUqed8Z8W4AGaD1YUoy3XhHxTCI=","exportNames":["*"],"imports":1}},{"name":"../skia/NativeSetup","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":11,"column":0,"index":999},"end":{"line":11,"column":29,"index":1028}}],"key":"2Wls0XExuy/EEdeZ5XuvdforO8s=","exportNames":["*"],"imports":1}},{"name":"../views/api","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":12,"column":0,"index":1029},"end":{"line":12,"column":22,"index":1051}}],"key":"HAOgUmBotlALkoLLqYP3y1G9R74=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"createContainer\", {\n    enumerable: true,\n    get: function () {\n      return createContainer;\n    }\n  });\n  var _externalReanimatedReanimatedProxy = require(_dependencyMap[0], \"../external/reanimated/ReanimatedProxy\");\n  var Rea = _interopDefault(_externalReanimatedReanimatedProxy);\n  var _externalReanimatedRenderHelpers = require(_dependencyMap[1], \"../external/reanimated/renderHelpers\");\n  var _RecorderRecorder = require(_dependencyMap[2], \"./Recorder/Recorder\");\n  var _RecorderVisitor = require(_dependencyMap[3], \"./Recorder/Visitor\");\n  var _RecorderPlayer = require(_dependencyMap[4], \"./Recorder/Player\");\n  var _RecorderDrawingContext = require(_dependencyMap[5], \"./Recorder/DrawingContext\");\n  var _StaticContainer = require(_dependencyMap[6], \"./StaticContainer\");\n  require(_dependencyMap[7], \"../skia/NativeSetup\");\n  require(_dependencyMap[8], \"../views/api\");\n  function _defineProperty(e, r, t) {\n    return (r = _toPropertyKey(r)) in e ? Object.defineProperty(e, r, {\n      value: t,\n      enumerable: !0,\n      configurable: !0,\n      writable: !0\n    }) : e[r] = t, e;\n  }\n  function _toPropertyKey(t) {\n    var i = _toPrimitive(t, \"string\");\n    return \"symbol\" == typeof i ? i : i + \"\";\n  }\n  function _toPrimitive(t, r) {\n    if (\"object\" != typeof t || !t) return t;\n    var e = t[Symbol.toPrimitive];\n    if (void 0 !== e) {\n      var i = e.call(t, r || \"default\");\n      if (\"object\" != typeof i) return i;\n      throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n    }\n    return (\"string\" === r ? String : Number)(t);\n  }\n  const drawOnscreen = (Skia, nativeId, recording) => {\n    \"worklet\";\n\n    const rec = Skia.PictureRecorder();\n    const canvas = rec.beginRecording();\n    //const start = performance.now();\n\n    const ctx = (0, _RecorderDrawingContext.createDrawingContext)(Skia, recording.paintPool, canvas);\n    (0, _RecorderPlayer.replay)(ctx, recording.commands);\n    const picture = rec.finishRecordingAsPicture();\n    //const end = performance.now();\n    //console.log(\"Recording time: \", end - start);\n    SkiaViewApi.setJsiProperty(nativeId, \"picture\", picture);\n  };\n  class ReanimatedContainer extends _StaticContainer.Container {\n    constructor(Skia, nativeId) {\n      super(Skia);\n      this.nativeId = nativeId;\n      _defineProperty(this, \"mapperId\", null);\n    }\n    redraw() {\n      if (this.mapperId !== null) {\n        Rea.default.stopMapper(this.mapperId);\n      }\n      if (this.unmounted) {\n        return;\n      }\n      const recorder = new _RecorderRecorder.Recorder();\n      (0, _RecorderVisitor.visit)(recorder, this.root);\n      const record = recorder.getRecording();\n      const {\n        animationValues\n      } = record;\n      this.recording = {\n        commands: record.commands,\n        paintPool: record.paintPool\n      };\n      const {\n        nativeId,\n        Skia,\n        recording\n      } = this;\n      if (animationValues.size > 0) {\n        this.mapperId = Rea.default.startMapper(() => {\n          \"worklet\";\n\n          drawOnscreen(Skia, nativeId, recording);\n        }, Array.from(animationValues));\n      }\n      Rea.default.runOnUI(() => {\n        \"worklet\";\n\n        drawOnscreen(Skia, nativeId, recording);\n      })();\n    }\n  }\n  const createContainer = (Skia, nativeId) => {\n    if (_externalReanimatedRenderHelpers.HAS_REANIMATED_3 && nativeId !== -1) {\n      return new ReanimatedContainer(Skia, nativeId);\n    } else {\n      return new _StaticContainer.StaticContainer(Skia, nativeId);\n    }\n  };\n});","lineCount":113,"map":[[12,2,69,0,"Object"],[12,8,69,0],[12,9,69,0,"defineProperty"],[12,23,69,0],[12,24,69,0,"exports"],[12,31,69,0],[13,4,69,0,"enumerable"],[13,14,69,0],[14,4,69,0,"get"],[14,7,69,0],[14,18,69,0,"get"],[14,19,69,0],[15,6,69,0],[15,13,69,0,"createContainer"],[15,28,69,0],[16,4,69,0],[17,2,69,0],[18,2,4,0],[18,6,4,0,"_externalReanimatedReanimatedProxy"],[18,40,4,0],[18,43,4,0,"require"],[18,50,4,0],[18,51,4,0,"_dependencyMap"],[18,65,4,0],[19,2,4,0],[19,6,4,0,"Rea"],[19,9,4,0],[19,12,4,0,"_interopDefault"],[19,27,4,0],[19,28,4,0,"_externalReanimatedReanimatedProxy"],[19,62,4,0],[20,2,5,0],[20,6,5,0,"_externalReanimatedRenderHelpers"],[20,38,5,0],[20,41,5,0,"require"],[20,48,5,0],[20,49,5,0,"_dependencyMap"],[20,63,5,0],[21,2,6,0],[21,6,6,0,"_RecorderRecorder"],[21,23,6,0],[21,26,6,0,"require"],[21,33,6,0],[21,34,6,0,"_dependencyMap"],[21,48,6,0],[22,2,7,0],[22,6,7,0,"_RecorderVisitor"],[22,22,7,0],[22,25,7,0,"require"],[22,32,7,0],[22,33,7,0,"_dependencyMap"],[22,47,7,0],[23,2,8,0],[23,6,8,0,"_RecorderPlayer"],[23,21,8,0],[23,24,8,0,"require"],[23,31,8,0],[23,32,8,0,"_dependencyMap"],[23,46,8,0],[24,2,9,0],[24,6,9,0,"_RecorderDrawingContext"],[24,29,9,0],[24,32,9,0,"require"],[24,39,9,0],[24,40,9,0,"_dependencyMap"],[24,54,9,0],[25,2,10,0],[25,6,10,0,"_StaticContainer"],[25,22,10,0],[25,25,10,0,"require"],[25,32,10,0],[25,33,10,0,"_dependencyMap"],[25,47,10,0],[26,2,11,0,"require"],[26,9,11,0],[26,10,11,0,"_dependencyMap"],[26,24,11,0],[27,2,12,0,"require"],[27,9,12,0],[27,10,12,0,"_dependencyMap"],[27,24,12,0],[28,2,1,0],[28,11,1,9,"_defineProperty"],[28,26,1,24,"_defineProperty"],[28,27,1,25,"e"],[28,28,1,26],[28,30,1,28,"r"],[28,31,1,29],[28,33,1,31,"t"],[28,34,1,32],[28,36,1,34],[29,4,1,36],[29,11,1,43],[29,12,1,44,"r"],[29,13,1,45],[29,16,1,48,"_toPropertyKey"],[29,30,1,62],[29,31,1,63,"r"],[29,32,1,64],[29,33,1,65],[29,38,1,70,"e"],[29,39,1,71],[29,42,1,74,"Object"],[29,48,1,80],[29,49,1,81,"defineProperty"],[29,63,1,95],[29,64,1,96,"e"],[29,65,1,97],[29,67,1,99,"r"],[29,68,1,100],[29,70,1,102],[30,6,1,104,"value"],[30,11,1,109],[30,13,1,111,"t"],[30,14,1,112],[31,6,1,114,"enumerable"],[31,16,1,124],[31,18,1,126],[31,19,1,127],[31,20,1,128],[32,6,1,130,"configurable"],[32,18,1,142],[32,20,1,144],[32,21,1,145],[32,22,1,146],[33,6,1,148,"writable"],[33,14,1,156],[33,16,1,158],[33,17,1,159],[34,4,1,161],[34,5,1,162],[34,6,1,163],[34,9,1,166,"e"],[34,10,1,167],[34,11,1,168,"r"],[34,12,1,169],[34,13,1,170],[34,16,1,173,"t"],[34,17,1,174],[34,19,1,176,"e"],[34,20,1,177],[35,2,1,179],[36,2,2,0],[36,11,2,9,"_toPropertyKey"],[36,25,2,23,"_toPropertyKey"],[36,26,2,24,"t"],[36,27,2,25],[36,29,2,27],[37,4,2,29],[37,8,2,33,"i"],[37,9,2,34],[37,12,2,37,"_toPrimitive"],[37,24,2,49],[37,25,2,50,"t"],[37,26,2,51],[37,28,2,53],[37,36,2,61],[37,37,2,62],[38,4,2,64],[38,11,2,71],[38,19,2,79],[38,23,2,83],[38,30,2,90,"i"],[38,31,2,91],[38,34,2,94,"i"],[38,35,2,95],[38,38,2,98,"i"],[38,39,2,99],[38,42,2,102],[38,44,2,104],[39,2,2,106],[40,2,3,0],[40,11,3,9,"_toPrimitive"],[40,23,3,21,"_toPrimitive"],[40,24,3,22,"t"],[40,25,3,23],[40,27,3,25,"r"],[40,28,3,26],[40,30,3,28],[41,4,3,30],[41,8,3,34],[41,16,3,42],[41,20,3,46],[41,27,3,53,"t"],[41,28,3,54],[41,32,3,58],[41,33,3,59,"t"],[41,34,3,60],[41,36,3,62],[41,43,3,69,"t"],[41,44,3,70],[42,4,3,72],[42,8,3,76,"e"],[42,9,3,77],[42,12,3,80,"t"],[42,13,3,81],[42,14,3,82,"Symbol"],[42,20,3,88],[42,21,3,89,"toPrimitive"],[42,32,3,100],[42,33,3,101],[43,4,3,103],[43,8,3,107],[43,13,3,112],[43,14,3,113],[43,19,3,118,"e"],[43,20,3,119],[43,22,3,121],[44,6,3,123],[44,10,3,127,"i"],[44,11,3,128],[44,14,3,131,"e"],[44,15,3,132],[44,16,3,133,"call"],[44,20,3,137],[44,21,3,138,"t"],[44,22,3,139],[44,24,3,141,"r"],[44,25,3,142],[44,29,3,146],[44,38,3,155],[44,39,3,156],[45,6,3,158],[45,10,3,162],[45,18,3,170],[45,22,3,174],[45,29,3,181,"i"],[45,30,3,182],[45,32,3,184],[45,39,3,191,"i"],[45,40,3,192],[46,6,3,194],[46,12,3,200],[46,16,3,204,"TypeError"],[46,25,3,213],[46,26,3,214],[46,72,3,260],[46,73,3,261],[47,4,3,263],[48,4,3,265],[48,11,3,272],[48,12,3,273],[48,20,3,281],[48,25,3,286,"r"],[48,26,3,287],[48,29,3,290,"String"],[48,35,3,296],[48,38,3,299,"Number"],[48,44,3,305],[48,46,3,307,"t"],[48,47,3,308],[48,48,3,309],[49,2,3,311],[50,2,13,0],[50,8,13,6,"drawOnscreen"],[50,20,13,18],[50,23,13,21,"drawOnscreen"],[50,24,13,22,"Skia"],[50,28,13,26],[50,30,13,28,"nativeId"],[50,38,13,36],[50,40,13,38,"recording"],[50,49,13,47],[50,54,13,52],[51,4,14,2],[51,13,14,11],[53,4,16,2],[53,10,16,8,"rec"],[53,13,16,11],[53,16,16,14,"Skia"],[53,20,16,18],[53,21,16,19,"PictureRecorder"],[53,36,16,34],[53,37,16,35],[53,38,16,36],[54,4,17,2],[54,10,17,8,"canvas"],[54,16,17,14],[54,19,17,17,"rec"],[54,22,17,20],[54,23,17,21,"beginRecording"],[54,37,17,35],[54,38,17,36],[54,39,17,37],[55,4,18,2],[57,4,20,2],[57,10,20,8,"ctx"],[57,13,20,11],[57,16,20,14],[57,20,20,14,"createDrawingContext"],[57,43,20,34],[57,44,20,34,"createDrawingContext"],[57,64,20,34],[57,66,20,35,"Skia"],[57,70,20,39],[57,72,20,41,"recording"],[57,81,20,50],[57,82,20,51,"paintPool"],[57,91,20,60],[57,93,20,62,"canvas"],[57,99,20,68],[57,100,20,69],[58,4,21,2],[58,8,21,2,"replay"],[58,23,21,8],[58,24,21,8,"replay"],[58,30,21,8],[58,32,21,9,"ctx"],[58,35,21,12],[58,37,21,14,"recording"],[58,46,21,23],[58,47,21,24,"commands"],[58,55,21,32],[58,56,21,33],[59,4,22,2],[59,10,22,8,"picture"],[59,17,22,15],[59,20,22,18,"rec"],[59,23,22,21],[59,24,22,22,"finishRecordingAsPicture"],[59,48,22,46],[59,49,22,47],[59,50,22,48],[60,4,23,2],[61,4,24,2],[62,4,25,2,"SkiaViewApi"],[62,15,25,13],[62,16,25,14,"setJsiProperty"],[62,30,25,28],[62,31,25,29,"nativeId"],[62,39,25,37],[62,41,25,39],[62,50,25,48],[62,52,25,50,"picture"],[62,59,25,57],[62,60,25,58],[63,2,26,0],[63,3,26,1],[64,2,27,0],[64,8,27,6,"ReanimatedContainer"],[64,27,27,25],[64,36,27,34,"Container"],[64,52,27,43],[64,53,27,43,"Container"],[64,62,27,43],[64,63,27,44],[65,4,28,2,"constructor"],[65,15,28,13,"constructor"],[65,16,28,14,"Skia"],[65,20,28,18],[65,22,28,20,"nativeId"],[65,30,28,28],[65,32,28,30],[66,6,29,4],[66,11,29,9],[66,12,29,10,"Skia"],[66,16,29,14],[66,17,29,15],[67,6,30,4],[67,10,30,8],[67,11,30,9,"nativeId"],[67,19,30,17],[67,22,30,20,"nativeId"],[67,30,30,28],[68,6,31,4,"_defineProperty"],[68,21,31,19],[68,22,31,20],[68,26,31,24],[68,28,31,26],[68,38,31,36],[68,40,31,38],[68,44,31,42],[68,45,31,43],[69,4,32,2],[70,4,33,2,"redraw"],[70,10,33,8,"redraw"],[70,11,33,8],[70,13,33,11],[71,6,34,4],[71,10,34,8],[71,14,34,12],[71,15,34,13,"mapperId"],[71,23,34,21],[71,28,34,26],[71,32,34,30],[71,34,34,32],[72,8,35,6,"Rea"],[72,11,35,9],[72,12,35,9,"default"],[72,19,35,9],[72,20,35,10,"stopMapper"],[72,30,35,20],[72,31,35,21],[72,35,35,25],[72,36,35,26,"mapperId"],[72,44,35,34],[72,45,35,35],[73,6,36,4],[74,6,37,4],[74,10,37,8],[74,14,37,12],[74,15,37,13,"unmounted"],[74,24,37,22],[74,26,37,24],[75,8,38,6],[76,6,39,4],[77,6,40,4],[77,12,40,10,"recorder"],[77,20,40,18],[77,23,40,21],[77,27,40,25,"Recorder"],[77,44,40,33],[77,45,40,33,"Recorder"],[77,53,40,33],[77,54,40,34],[77,55,40,35],[78,6,41,4],[78,10,41,4,"visit"],[78,26,41,9],[78,27,41,9,"visit"],[78,32,41,9],[78,34,41,10,"recorder"],[78,42,41,18],[78,44,41,20],[78,48,41,24],[78,49,41,25,"root"],[78,53,41,29],[78,54,41,30],[79,6,42,4],[79,12,42,10,"record"],[79,18,42,16],[79,21,42,19,"recorder"],[79,29,42,27],[79,30,42,28,"getRecording"],[79,42,42,40],[79,43,42,41],[79,44,42,42],[80,6,43,4],[80,12,43,10],[81,8,44,6,"animationValues"],[82,6,45,4],[82,7,45,5],[82,10,45,8,"record"],[82,16,45,14],[83,6,46,4],[83,10,46,8],[83,11,46,9,"recording"],[83,20,46,18],[83,23,46,21],[84,8,47,6,"commands"],[84,16,47,14],[84,18,47,16,"record"],[84,24,47,22],[84,25,47,23,"commands"],[84,33,47,31],[85,8,48,6,"paintPool"],[85,17,48,15],[85,19,48,17,"record"],[85,25,48,23],[85,26,48,24,"paintPool"],[86,6,49,4],[86,7,49,5],[87,6,50,4],[87,12,50,10],[88,8,51,6,"nativeId"],[88,16,51,14],[89,8,52,6,"Skia"],[89,12,52,10],[90,8,53,6,"recording"],[91,6,54,4],[91,7,54,5],[91,10,54,8],[91,14,54,12],[92,6,55,4],[92,10,55,8,"animationValues"],[92,25,55,23],[92,26,55,24,"size"],[92,30,55,28],[92,33,55,31],[92,34,55,32],[92,36,55,34],[93,8,56,6],[93,12,56,10],[93,13,56,11,"mapperId"],[93,21,56,19],[93,24,56,22,"Rea"],[93,27,56,25],[93,28,56,25,"default"],[93,35,56,25],[93,36,56,26,"startMapper"],[93,47,56,37],[93,48,56,38],[93,54,56,44],[94,10,57,8],[94,19,57,17],[96,10,59,8,"drawOnscreen"],[96,22,59,20],[96,23,59,21,"Skia"],[96,27,59,25],[96,29,59,27,"nativeId"],[96,37,59,35],[96,39,59,37,"recording"],[96,48,59,46],[96,49,59,47],[97,8,60,6],[97,9,60,7],[97,11,60,9,"Array"],[97,16,60,14],[97,17,60,15,"from"],[97,21,60,19],[97,22,60,20,"animationValues"],[97,37,60,35],[97,38,60,36],[97,39,60,37],[98,6,61,4],[99,6,62,4,"Rea"],[99,9,62,7],[99,10,62,7,"default"],[99,17,62,7],[99,18,62,8,"runOnUI"],[99,25,62,15],[99,26,62,16],[99,32,62,22],[100,8,63,6],[100,17,63,15],[102,8,65,6,"drawOnscreen"],[102,20,65,18],[102,21,65,19,"Skia"],[102,25,65,23],[102,27,65,25,"nativeId"],[102,35,65,33],[102,37,65,35,"recording"],[102,46,65,44],[102,47,65,45],[103,6,66,4],[103,7,66,5],[103,8,66,6],[103,9,66,7],[103,10,66,8],[104,4,67,2],[105,2,68,0],[106,2,69,7],[106,8,69,13,"createContainer"],[106,23,69,28],[106,26,69,31,"createContainer"],[106,27,69,32,"Skia"],[106,31,69,36],[106,33,69,38,"nativeId"],[106,41,69,46],[106,46,69,51],[107,4,70,2],[107,8,70,6,"HAS_REANIMATED_3"],[107,40,70,22],[107,41,70,22,"HAS_REANIMATED_3"],[107,57,70,22],[107,61,70,26,"nativeId"],[107,69,70,34],[107,74,70,39],[107,75,70,40],[107,76,70,41],[107,78,70,43],[108,6,71,4],[108,13,71,11],[108,17,71,15,"ReanimatedContainer"],[108,36,71,34],[108,37,71,35,"Skia"],[108,41,71,39],[108,43,71,41,"nativeId"],[108,51,71,49],[108,52,71,50],[109,4,72,2],[109,5,72,3],[109,11,72,9],[110,6,73,4],[110,13,73,11],[110,17,73,15,"StaticContainer"],[110,33,73,30],[110,34,73,30,"StaticContainer"],[110,49,73,30],[110,50,73,31,"Skia"],[110,54,73,35],[110,56,73,37,"nativeId"],[110,64,73,45],[110,65,73,46],[111,4,74,2],[112,2,75,0],[112,3,75,1],[113,0,75,2],[113,3]],"functionMap":{"names":["_defineProperty","<global>","_toPropertyKey","_toPrimitive","drawOnscreen","ReanimatedContainer","ReanimatedContainer#constructor","ReanimatedContainer#redraw","Rea.startMapper$argument_0","Rea.runOnUI$argument_0","createContainer"],"mappings":"AAA,oLC;ACC,2GD;AEC,wTF;qBGU;CHa;AIC;ECC;GDI;EEC;sCCuB;ODI;gBEE;KFI;GFC;CJC;+BSC;CTM"},"hasCjsExports":false},"type":"js/module"}]}