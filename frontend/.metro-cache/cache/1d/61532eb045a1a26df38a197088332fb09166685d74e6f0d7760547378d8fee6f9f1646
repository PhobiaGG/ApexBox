{"dependencies":[{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":69,"index":69}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return _default;\n    }\n  });\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[0], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  const DEFAULT_SETTINGS = {\n    profile: {\n      displayName: 'Driver',\n      carModel: '',\n      carYear: ''\n    },\n    units: {\n      isMetric: true,\n      tempCelsius: true,\n      altitudeMetric: true,\n      time24Hour: true\n    },\n    theme: {\n      isDark: true,\n      accentColor: 'cyan'\n    },\n    connectivity: {\n      bleAutoConnect: false,\n      lastDevice: null\n    },\n    developerMode: false\n  };\n  class SettingsService {\n    storageKey = 'apexbox_settings';\n    async getSettings() {\n      try {\n        const stored = await AsyncStorage.default.getItem(this.storageKey);\n        if (stored) {\n          return Object.assign({}, DEFAULT_SETTINGS, JSON.parse(stored));\n        }\n        return DEFAULT_SETTINGS;\n      } catch (error) {\n        console.error('[SettingsService] Error loading settings:', error);\n        return DEFAULT_SETTINGS;\n      }\n    }\n    async updateSettings(settings) {\n      try {\n        const current = await this.getSettings();\n        const updated = Object.assign({}, current, settings);\n        await AsyncStorage.default.setItem(this.storageKey, JSON.stringify(updated));\n        console.log('[SettingsService] Settings updated:', settings);\n      } catch (error) {\n        console.error('[SettingsService] Error updating settings:', error);\n        throw error;\n      }\n    }\n    async updateProfile(profile) {\n      const current = await this.getSettings();\n      await this.updateSettings({\n        profile: Object.assign({}, current.profile, profile)\n      });\n    }\n    async updateUnits(units) {\n      const current = await this.getSettings();\n      await this.updateSettings({\n        units: Object.assign({}, current.units, units)\n      });\n    }\n    async updateTheme(theme) {\n      const current = await this.getSettings();\n      await this.updateSettings({\n        theme: Object.assign({}, current.theme, theme)\n      });\n    }\n    async updateConnectivity(connectivity) {\n      const current = await this.getSettings();\n      await this.updateSettings({\n        connectivity: Object.assign({}, current.connectivity, connectivity)\n      });\n    }\n    async toggleDeveloperMode() {\n      const current = await this.getSettings();\n      const newValue = !current.developerMode;\n      await this.updateSettings({\n        developerMode: newValue\n      });\n      return newValue;\n    }\n    async resetSettings() {\n      await AsyncStorage.default.removeItem(this.storageKey);\n      console.log('[SettingsService] Settings reset to defaults');\n    }\n  }\n  var _default = new SettingsService();\n});","lineCount":105,"map":[[12,2,126,0,"Object"],[12,8,126,0],[12,9,126,0,"defineProperty"],[12,23,126,0],[12,24,126,0,"exports"],[12,31,126,0],[13,4,126,0,"enumerable"],[13,14,126,0],[14,4,126,0,"get"],[14,7,126,0],[14,18,126,0,"get"],[14,19,126,0],[15,6,126,0],[15,13,126,0,"_default"],[15,21,126,0],[16,4,126,0],[17,2,126,0],[18,2,1,0],[18,6,1,0,"_reactNativeAsyncStorageAsyncStorage"],[18,42,1,0],[18,45,1,0,"require"],[18,52,1,0],[18,53,1,0,"_dependencyMap"],[18,67,1,0],[19,2,1,0],[19,6,1,0,"AsyncStorage"],[19,18,1,0],[19,21,1,0,"_interopDefault"],[19,36,1,0],[19,37,1,0,"_reactNativeAsyncStorageAsyncStorage"],[19,73,1,0],[20,2,34,0],[20,8,34,6,"DEFAULT_SETTINGS"],[20,24,34,35],[20,27,34,38],[21,4,35,2,"profile"],[21,11,35,9],[21,13,35,11],[22,6,36,4,"displayName"],[22,17,36,15],[22,19,36,17],[22,27,36,25],[23,6,37,4,"carModel"],[23,14,37,12],[23,16,37,14],[23,18,37,16],[24,6,38,4,"carYear"],[24,13,38,11],[24,15,38,13],[25,4,39,2],[25,5,39,3],[26,4,40,2,"units"],[26,9,40,7],[26,11,40,9],[27,6,41,4,"isMetric"],[27,14,41,12],[27,16,41,14],[27,20,41,18],[28,6,42,4,"tempCelsius"],[28,17,42,15],[28,19,42,17],[28,23,42,21],[29,6,43,4,"altitudeMetric"],[29,20,43,18],[29,22,43,20],[29,26,43,24],[30,6,44,4,"time24Hour"],[30,16,44,14],[30,18,44,16],[31,4,45,2],[31,5,45,3],[32,4,46,2,"theme"],[32,9,46,7],[32,11,46,9],[33,6,47,4,"isDark"],[33,12,47,10],[33,14,47,12],[33,18,47,16],[34,6,48,4,"accentColor"],[34,17,48,15],[34,19,48,17],[35,4,49,2],[35,5,49,3],[36,4,50,2,"connectivity"],[36,16,50,14],[36,18,50,16],[37,6,51,4,"bleAutoConnect"],[37,20,51,18],[37,22,51,20],[37,27,51,25],[38,6,52,4,"lastDevice"],[38,16,52,14],[38,18,52,16],[39,4,53,2],[39,5,53,3],[40,4,54,2,"developerMode"],[40,17,54,15],[40,19,54,17],[41,2,55,0],[41,3,55,1],[42,2,57,0],[42,8,57,6,"SettingsService"],[42,23,57,21],[42,24,57,22],[43,4,58,10,"storageKey"],[43,14,58,20],[43,17,58,23],[43,35,58,41],[44,4,60,2],[44,10,60,8,"getSettings"],[44,21,60,19,"getSettings"],[44,22,60,19],[44,24,60,44],[45,6,61,4],[45,10,61,8],[46,8,62,6],[46,14,62,12,"stored"],[46,20,62,18],[46,23,62,21],[46,29,62,27,"AsyncStorage"],[46,41,62,39],[46,42,62,39,"default"],[46,49,62,39],[46,50,62,40,"getItem"],[46,57,62,47],[46,58,62,48],[46,62,62,52],[46,63,62,53,"storageKey"],[46,73,62,63],[46,74,62,64],[47,8,63,6],[47,12,63,10,"stored"],[47,18,63,16],[47,20,63,18],[48,10,64,8],[48,17,64,8,"Object"],[48,23,64,8],[48,24,64,8,"assign"],[48,30,64,8],[48,35,64,20,"DEFAULT_SETTINGS"],[48,51,64,36],[48,53,64,41,"JSON"],[48,57,64,45],[48,58,64,46,"parse"],[48,63,64,51],[48,64,64,52,"stored"],[48,70,64,58],[48,71,64,59],[49,8,65,6],[50,8,66,6],[50,15,66,13,"DEFAULT_SETTINGS"],[50,31,66,29],[51,6,67,4],[51,7,67,5],[51,8,67,6],[51,15,67,13,"error"],[51,20,67,18],[51,22,67,20],[52,8,68,6,"console"],[52,15,68,13],[52,16,68,14,"error"],[52,21,68,19],[52,22,68,20],[52,65,68,63],[52,67,68,65,"error"],[52,72,68,70],[52,73,68,71],[53,8,69,6],[53,15,69,13,"DEFAULT_SETTINGS"],[53,31,69,29],[54,6,70,4],[55,4,71,2],[56,4,73,2],[56,10,73,8,"updateSettings"],[56,24,73,22,"updateSettings"],[56,25,73,23,"settings"],[56,33,73,53],[56,35,73,70],[57,6,74,4],[57,10,74,8],[58,8,75,6],[58,14,75,12,"current"],[58,21,75,19],[58,24,75,22],[58,30,75,28],[58,34,75,32],[58,35,75,33,"getSettings"],[58,46,75,44],[58,47,75,45],[58,48,75,46],[59,8,76,6],[59,14,76,12,"updated"],[59,21,76,19],[59,24,76,19,"Object"],[59,30,76,19],[59,31,76,19,"assign"],[59,37,76,19],[59,42,76,27,"current"],[59,49,76,34],[59,51,76,39,"settings"],[59,59,76,47],[59,60,76,49],[60,8,77,6],[60,14,77,12,"AsyncStorage"],[60,26,77,24],[60,27,77,24,"default"],[60,34,77,24],[60,35,77,25,"setItem"],[60,42,77,32],[60,43,77,33],[60,47,77,37],[60,48,77,38,"storageKey"],[60,58,77,48],[60,60,77,50,"JSON"],[60,64,77,54],[60,65,77,55,"stringify"],[60,74,77,64],[60,75,77,65,"updated"],[60,82,77,72],[60,83,77,73],[60,84,77,74],[61,8,78,6,"console"],[61,15,78,13],[61,16,78,14,"log"],[61,19,78,17],[61,20,78,18],[61,57,78,55],[61,59,78,57,"settings"],[61,67,78,65],[61,68,78,66],[62,6,79,4],[62,7,79,5],[62,8,79,6],[62,15,79,13,"error"],[62,20,79,18],[62,22,79,20],[63,8,80,6,"console"],[63,15,80,13],[63,16,80,14,"error"],[63,21,80,19],[63,22,80,20],[63,66,80,64],[63,68,80,66,"error"],[63,73,80,71],[63,74,80,72],[64,8,81,6],[64,14,81,12,"error"],[64,19,81,17],[65,6,82,4],[66,4,83,2],[67,4,85,2],[67,10,85,8,"updateProfile"],[67,23,85,21,"updateProfile"],[67,24,85,22,"profile"],[67,31,85,51],[67,33,85,68],[68,6,86,4],[68,12,86,10,"current"],[68,19,86,17],[68,22,86,20],[68,28,86,26],[68,32,86,30],[68,33,86,31,"getSettings"],[68,44,86,42],[68,45,86,43],[68,46,86,44],[69,6,87,4],[69,12,87,10],[69,16,87,14],[69,17,87,15,"updateSettings"],[69,31,87,29],[69,32,87,30],[70,8,88,6,"profile"],[70,15,88,13],[70,17,88,13,"Object"],[70,23,88,13],[70,24,88,13,"assign"],[70,30,88,13],[70,35,88,20,"current"],[70,42,88,27],[70,43,88,28,"profile"],[70,50,88,35],[70,52,88,40,"profile"],[70,59,88,47],[71,6,89,4],[71,7,89,5],[71,8,89,6],[72,4,90,2],[73,4,92,2],[73,10,92,8,"updateUnits"],[73,21,92,19,"updateUnits"],[73,22,92,20,"units"],[73,27,92,49],[73,29,92,66],[74,6,93,4],[74,12,93,10,"current"],[74,19,93,17],[74,22,93,20],[74,28,93,26],[74,32,93,30],[74,33,93,31,"getSettings"],[74,44,93,42],[74,45,93,43],[74,46,93,44],[75,6,94,4],[75,12,94,10],[75,16,94,14],[75,17,94,15,"updateSettings"],[75,31,94,29],[75,32,94,30],[76,8,95,6,"units"],[76,13,95,11],[76,15,95,11,"Object"],[76,21,95,11],[76,22,95,11,"assign"],[76,28,95,11],[76,33,95,18,"current"],[76,40,95,25],[76,41,95,26,"units"],[76,46,95,31],[76,48,95,36,"units"],[76,53,95,41],[77,6,96,4],[77,7,96,5],[77,8,96,6],[78,4,97,2],[79,4,99,2],[79,10,99,8,"updateTheme"],[79,21,99,19,"updateTheme"],[79,22,99,20,"theme"],[79,27,99,49],[79,29,99,66],[80,6,100,4],[80,12,100,10,"current"],[80,19,100,17],[80,22,100,20],[80,28,100,26],[80,32,100,30],[80,33,100,31,"getSettings"],[80,44,100,42],[80,45,100,43],[80,46,100,44],[81,6,101,4],[81,12,101,10],[81,16,101,14],[81,17,101,15,"updateSettings"],[81,31,101,29],[81,32,101,30],[82,8,102,6,"theme"],[82,13,102,11],[82,15,102,11,"Object"],[82,21,102,11],[82,22,102,11,"assign"],[82,28,102,11],[82,33,102,18,"current"],[82,40,102,25],[82,41,102,26,"theme"],[82,46,102,31],[82,48,102,36,"theme"],[82,53,102,41],[83,6,103,4],[83,7,103,5],[83,8,103,6],[84,4,104,2],[85,4,106,2],[85,10,106,8,"updateConnectivity"],[85,28,106,26,"updateConnectivity"],[85,29,106,27,"connectivity"],[85,41,106,70],[85,43,106,87],[86,6,107,4],[86,12,107,10,"current"],[86,19,107,17],[86,22,107,20],[86,28,107,26],[86,32,107,30],[86,33,107,31,"getSettings"],[86,44,107,42],[86,45,107,43],[86,46,107,44],[87,6,108,4],[87,12,108,10],[87,16,108,14],[87,17,108,15,"updateSettings"],[87,31,108,29],[87,32,108,30],[88,8,109,6,"connectivity"],[88,20,109,18],[88,22,109,18,"Object"],[88,28,109,18],[88,29,109,18,"assign"],[88,35,109,18],[88,40,109,25,"current"],[88,47,109,32],[88,48,109,33,"connectivity"],[88,60,109,45],[88,62,109,50,"connectivity"],[88,74,109,62],[89,6,110,4],[89,7,110,5],[89,8,110,6],[90,4,111,2],[91,4,113,2],[91,10,113,8,"toggleDeveloperMode"],[91,29,113,27,"toggleDeveloperMode"],[91,30,113,27],[91,32,113,48],[92,6,114,4],[92,12,114,10,"current"],[92,19,114,17],[92,22,114,20],[92,28,114,26],[92,32,114,30],[92,33,114,31,"getSettings"],[92,44,114,42],[92,45,114,43],[92,46,114,44],[93,6,115,4],[93,12,115,10,"newValue"],[93,20,115,18],[93,23,115,21],[93,24,115,22,"current"],[93,31,115,29],[93,32,115,30,"developerMode"],[93,45,115,43],[94,6,116,4],[94,12,116,10],[94,16,116,14],[94,17,116,15,"updateSettings"],[94,31,116,29],[94,32,116,30],[95,8,116,32,"developerMode"],[95,21,116,45],[95,23,116,47,"newValue"],[96,6,116,56],[96,7,116,57],[96,8,116,58],[97,6,117,4],[97,13,117,11,"newValue"],[97,21,117,19],[98,4,118,2],[99,4,120,2],[99,10,120,8,"resetSettings"],[99,23,120,21,"resetSettings"],[99,24,120,21],[99,26,120,39],[100,6,121,4],[100,12,121,10,"AsyncStorage"],[100,24,121,22],[100,25,121,22,"default"],[100,32,121,22],[100,33,121,23,"removeItem"],[100,43,121,33],[100,44,121,34],[100,48,121,38],[100,49,121,39,"storageKey"],[100,59,121,49],[100,60,121,50],[101,6,122,4,"console"],[101,13,122,11],[101,14,122,12,"log"],[101,17,122,15],[101,18,122,16],[101,64,122,62],[101,65,122,63],[102,4,123,2],[103,2,124,0],[104,2,126,0],[104,6,126,0,"_default"],[104,14,126,0],[104,17,126,15],[104,21,126,19,"SettingsService"],[104,36,126,34],[104,37,126,35],[104,38,126,36],[105,0,126,37],[105,3]],"functionMap":{"names":["<global>","SettingsService","getSettings","updateSettings","updateProfile","updateUnits","updateTheme","updateConnectivity","toggleDeveloperMode","resetSettings"],"mappings":"AAA;ACwD;ECG;GDW;EEE;GFU;EGE;GHK;EIE;GJK;EKE;GLK;EME;GNK;EOE;GPK;EQE;GRG;CDC"},"hasCjsExports":false},"type":"js/module"}]}