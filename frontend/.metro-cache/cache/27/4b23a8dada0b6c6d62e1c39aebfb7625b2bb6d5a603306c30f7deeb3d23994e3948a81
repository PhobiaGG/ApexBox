{"dependencies":[{"name":"@babel/runtime/helpers/asyncToGenerator","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"YisBBiy2Xm9DEVdFebZ2nbgAHBo=","exportNames":["*"],"imports":1}},{"name":"../skia","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":108},"end":{"line":4,"column":31,"index":139}}],"key":"Lpu2nVaO1EXd4ggU7Psxd64qAx4=","exportNames":["*"],"imports":1}},{"name":"../Platform","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":140},"end":{"line":5,"column":39,"index":179}}],"key":"SkcN7Zi2IL0pUxWZCaWeI65icek=","exportNames":["*"],"imports":1}},{"name":"../sksg/Reconciler","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":6,"column":0,"index":180},"end":{"line":6,"column":48,"index":228}}],"key":"DeHs3WhMLPm5P1oaJyJ8IyGNIPY=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"isOnMainThread\", {\n    enumerable: true,\n    get: function () {\n      return isOnMainThread;\n    }\n  });\n  Object.defineProperty(exports, \"drawAsPicture\", {\n    enumerable: true,\n    get: function () {\n      return drawAsPicture;\n    }\n  });\n  Object.defineProperty(exports, \"drawAsImage\", {\n    enumerable: true,\n    get: function () {\n      return drawAsImage;\n    }\n  });\n  Object.defineProperty(exports, \"drawAsImageFromPicture\", {\n    enumerable: true,\n    get: function () {\n      return drawAsImageFromPicture;\n    }\n  });\n  var _babelRuntimeHelpersAsyncToGenerator = require(_dependencyMap[0], \"@babel/runtime/helpers/asyncToGenerator\");\n  var _asyncToGenerator = _interopDefault(_babelRuntimeHelpersAsyncToGenerator);\n  var _skia = require(_dependencyMap[1], \"../skia\");\n  var _Platform = require(_dependencyMap[2], \"../Platform\");\n  var _sksgReconciler = require(_dependencyMap[3], \"../sksg/Reconciler\");\n  var isOnMainThread = () => {\n    \"worklet\";\n\n    return typeof _WORKLET !== \"undefined\" && _WORKLET === true || _Platform.Platform.OS === \"web\";\n  };\n  var drawAsPicture = /*#__PURE__*/function () {\n    var _ref = (0, _asyncToGenerator.default)(function* (element, bounds) {\n      var recorder = _skia.Skia.PictureRecorder();\n      var canvas = recorder.beginRecording(bounds);\n      var root = new _sksgReconciler.SkiaSGRoot(_skia.Skia);\n      yield root.render(element);\n      root.drawOnCanvas(canvas);\n      var picture = recorder.finishRecordingAsPicture();\n      root.unmount();\n      return picture;\n    });\n    return function drawAsPicture(_x, _x2) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n  var drawAsImage = /*#__PURE__*/function () {\n    var _ref2 = (0, _asyncToGenerator.default)(function* (element, size) {\n      return drawAsImageFromPicture(yield drawAsPicture(element), size);\n    });\n    return function drawAsImage(_x3, _x4) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n  var drawAsImageFromPicture = (picture, size) => {\n    \"worklet\";\n\n    var surface = _skia.Skia.Surface.MakeOffscreen(size.width, size.height);\n    var canvas = surface.getCanvas();\n    canvas.drawPicture(picture);\n    surface.flush();\n    var image = surface.makeImageSnapshot();\n    return image.makeNonTextureImage();\n  };\n});","lineCount":79,"map":[[12,2,8,0,"Object"],[12,8,8,0],[12,9,8,0,"defineProperty"],[12,23,8,0],[12,24,8,0,"exports"],[12,31,8,0],[13,4,8,0,"enumerable"],[13,14,8,0],[14,4,8,0,"get"],[14,7,8,0],[14,18,8,0,"get"],[14,19,8,0],[15,6,8,0],[15,13,8,0,"isOnMainThread"],[15,27,8,0],[16,4,8,0],[17,2,8,0],[18,2,16,0,"Object"],[18,8,16,0],[18,9,16,0,"defineProperty"],[18,23,16,0],[18,24,16,0,"exports"],[18,31,16,0],[19,4,16,0,"enumerable"],[19,14,16,0],[20,4,16,0,"get"],[20,7,16,0],[20,18,16,0,"get"],[20,19,16,0],[21,6,16,0],[21,13,16,0,"drawAsPicture"],[21,26,16,0],[22,4,16,0],[23,2,16,0],[24,2,27,0,"Object"],[24,8,27,0],[24,9,27,0,"defineProperty"],[24,23,27,0],[24,24,27,0,"exports"],[24,31,27,0],[25,4,27,0,"enumerable"],[25,14,27,0],[26,4,27,0,"get"],[26,7,27,0],[26,18,27,0,"get"],[26,19,27,0],[27,6,27,0],[27,13,27,0,"drawAsImage"],[27,24,27,0],[28,4,27,0],[29,2,27,0],[30,2,31,0,"Object"],[30,8,31,0],[30,9,31,0,"defineProperty"],[30,23,31,0],[30,24,31,0,"exports"],[30,31,31,0],[31,4,31,0,"enumerable"],[31,14,31,0],[32,4,31,0,"get"],[32,7,31,0],[32,18,31,0,"get"],[32,19,31,0],[33,6,31,0],[33,13,31,0,"drawAsImageFromPicture"],[33,35,31,0],[34,4,31,0],[35,2,31,0],[36,2,39,2],[36,6,39,2,"_babelRuntimeHelpersAsyncToGenerator"],[36,42,39,2],[36,45,39,2,"require"],[36,52,39,2],[36,53,39,2,"_dependencyMap"],[36,67,39,2],[37,2,39,2],[37,6,39,2,"_asyncToGenerator"],[37,23,39,2],[37,26,39,2,"_interopDefault"],[37,41,39,2],[37,42,39,2,"_babelRuntimeHelpersAsyncToGenerator"],[37,78,39,2],[38,2,4,0],[38,6,4,0,"_skia"],[38,11,4,0],[38,14,4,0,"require"],[38,21,4,0],[38,22,4,0,"_dependencyMap"],[38,36,4,0],[39,2,5,0],[39,6,5,0,"_Platform"],[39,15,5,0],[39,18,5,0,"require"],[39,25,5,0],[39,26,5,0,"_dependencyMap"],[39,40,5,0],[40,2,6,0],[40,6,6,0,"_sksgReconciler"],[40,21,6,0],[40,24,6,0,"require"],[40,31,6,0],[40,32,6,0,"_dependencyMap"],[40,46,6,0],[41,2,8,7],[41,6,8,13,"isOnMainThread"],[41,20,8,27],[41,23,8,30,"isOnMainThread"],[41,24,8,30],[41,29,8,36],[42,4,9,2],[42,13,9,11],[44,4,10,2],[44,11,11,5],[44,18,11,12,"_WORKLET"],[44,26,11,20],[44,31,11,25],[44,42,11,36],[44,46,11,40,"_WORKLET"],[44,54,11,48],[44,59,11,53],[44,63,11,57],[44,67,12,4,"Platform"],[44,76,12,12],[44,77,12,12,"Platform"],[44,85,12,12],[44,86,12,13,"OS"],[44,88,12,15],[44,93,12,20],[44,98,12,25],[45,2,14,0],[45,3,14,1],[46,2,16,7],[46,6,16,13,"drawAsPicture"],[46,19,16,26],[47,4,16,26],[47,8,16,26,"_ref"],[47,12,16,26],[47,19,16,26,"_asyncToGenerator"],[47,36,16,26],[47,37,16,26,"default"],[47,44,16,26],[47,46,16,29],[47,57,16,36,"element"],[47,64,16,57],[47,66,16,59,"bounds"],[47,72,16,74],[47,74,16,79],[48,6,17,2],[48,10,17,8,"recorder"],[48,18,17,16],[48,21,17,19,"Skia"],[48,26,17,23],[48,27,17,23,"Skia"],[48,31,17,23],[48,32,17,24,"PictureRecorder"],[48,47,17,39],[48,48,17,40],[48,49,17,41],[49,6,18,2],[49,10,18,8,"canvas"],[49,16,18,14],[49,19,18,17,"recorder"],[49,27,18,25],[49,28,18,26,"beginRecording"],[49,42,18,40],[49,43,18,41,"bounds"],[49,49,18,47],[49,50,18,48],[50,6,19,2],[50,10,19,8,"root"],[50,14,19,12],[50,17,19,15],[50,21,19,19,"SkiaSGRoot"],[50,36,19,29],[50,37,19,29,"SkiaSGRoot"],[50,47,19,29],[50,48,19,30,"Skia"],[50,53,19,34],[50,54,19,34,"Skia"],[50,58,19,34],[50,59,19,35],[51,6,20,2],[51,12,20,8,"root"],[51,16,20,12],[51,17,20,13,"render"],[51,23,20,19],[51,24,20,20,"element"],[51,31,20,27],[51,32,20,28],[52,6,21,2,"root"],[52,10,21,6],[52,11,21,7,"drawOnCanvas"],[52,23,21,19],[52,24,21,20,"canvas"],[52,30,21,26],[52,31,21,27],[53,6,22,2],[53,10,22,8,"picture"],[53,17,22,15],[53,20,22,18,"recorder"],[53,28,22,26],[53,29,22,27,"finishRecordingAsPicture"],[53,53,22,51],[53,54,22,52],[53,55,22,53],[54,6,23,2,"root"],[54,10,23,6],[54,11,23,7,"unmount"],[54,18,23,14],[54,19,23,15],[54,20,23,16],[55,6,24,2],[55,13,24,9,"picture"],[55,20,24,16],[56,4,25,0],[56,5,25,1],[57,4,25,1],[57,20,16,13,"drawAsPicture"],[57,33,16,26,"drawAsPicture"],[57,34,16,26,"_x"],[57,36,16,26],[57,38,16,26,"_x2"],[57,41,16,26],[58,6,16,26],[58,13,16,26,"_ref"],[58,17,16,26],[58,18,16,26,"apply"],[58,23,16,26],[58,30,16,26,"arguments"],[58,39,16,26],[59,4,16,26],[60,2,16,26],[60,5,25,1],[61,2,27,7],[61,6,27,13,"drawAsImage"],[61,17,27,24],[62,4,27,24],[62,8,27,24,"_ref2"],[62,13,27,24],[62,20,27,24,"_asyncToGenerator"],[62,37,27,24],[62,38,27,24,"default"],[62,45,27,24],[62,47,27,27],[62,58,27,34,"element"],[62,65,27,55],[62,67,27,57,"size"],[62,71,27,69],[62,73,27,74],[63,6,28,2],[63,13,28,9,"drawAsImageFromPicture"],[63,35,28,31],[63,42,28,38,"drawAsPicture"],[63,55,28,51],[63,56,28,52,"element"],[63,63,28,59],[63,64,28,60],[63,66,28,62,"size"],[63,70,28,66],[63,71,28,67],[64,4,29,0],[64,5,29,1],[65,4,29,1],[65,20,27,13,"drawAsImage"],[65,31,27,24,"drawAsImage"],[65,32,27,24,"_x3"],[65,35,27,24],[65,37,27,24,"_x4"],[65,40,27,24],[66,6,27,24],[66,13,27,24,"_ref2"],[66,18,27,24],[66,19,27,24,"apply"],[66,24,27,24],[66,31,27,24,"arguments"],[66,40,27,24],[67,4,27,24],[68,2,27,24],[68,5,29,1],[69,2,31,7],[69,6,31,13,"drawAsImageFromPicture"],[69,28,31,35],[69,31,31,38,"drawAsImageFromPicture"],[69,32,31,39,"picture"],[69,39,31,57],[69,41,31,59,"size"],[69,45,31,71],[69,50,31,76],[70,4,32,2],[70,13,32,11],[72,4,33,2],[72,8,33,8,"surface"],[72,15,33,15],[72,18,33,18,"Skia"],[72,23,33,22],[72,24,33,22,"Skia"],[72,28,33,22],[72,29,33,23,"Surface"],[72,36,33,30],[72,37,33,31,"MakeOffscreen"],[72,50,33,44],[72,51,33,45,"size"],[72,55,33,49],[72,56,33,50,"width"],[72,61,33,55],[72,63,33,57,"size"],[72,67,33,61],[72,68,33,62,"height"],[72,74,33,68],[72,75,33,70],[73,4,34,2],[73,8,34,8,"canvas"],[73,14,34,14],[73,17,34,17,"surface"],[73,24,34,24],[73,25,34,25,"getCanvas"],[73,34,34,34],[73,35,34,35],[73,36,34,36],[74,4,35,2,"canvas"],[74,10,35,8],[74,11,35,9,"drawPicture"],[74,22,35,20],[74,23,35,21,"picture"],[74,30,35,28],[74,31,35,29],[75,4,36,2,"surface"],[75,11,36,9],[75,12,36,10,"flush"],[75,17,36,15],[75,18,36,16],[75,19,36,17],[76,4,37,2],[76,8,37,8,"image"],[76,13,37,13],[76,16,37,16,"surface"],[76,23,37,23],[76,24,37,24,"makeImageSnapshot"],[76,41,37,41],[76,42,37,42],[76,43,37,43],[77,4,38,2],[77,11,38,9,"image"],[77,16,38,14],[77,17,38,15,"makeNonTextureImage"],[77,36,38,34],[77,37,38,35],[77,38,38,36],[78,2,39,0],[78,3,39,1],[79,0,39,2],[79,3]],"functionMap":{"names":["<global>","isOnMainThread","drawAsPicture","drawAsImage","drawAsImageFromPicture"],"mappings":"AAA;8BCO;CDM;6BEE;CFS;2BGE;CHE;sCIE;CJQ"},"hasCjsExports":false},"type":"js/module"}]}