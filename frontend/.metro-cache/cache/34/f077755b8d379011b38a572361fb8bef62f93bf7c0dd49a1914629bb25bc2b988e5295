{"dependencies":[{"name":"../../../dom/nodes","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":68,"index":68}}],"key":"Z+GW5Ist+DDyIe4BLHPS68wWHKY=","exportNames":["*"],"imports":1}},{"name":"../../../skia/types","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":137},"end":{"line":3,"column":65,"index":202}}],"key":"hnxlDT1tba4gQfvf2h/i6nte9KM=","exportNames":["*"],"imports":1}},{"name":"../Core","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":243},"end":{"line":5,"column":58,"index":301}}],"key":"jbHyCzvbB9jS1IW5Slk1SdkNW+4=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"isBoxCommand\", {\n    enumerable: true,\n    get: function () {\n      return isBoxCommand;\n    }\n  });\n  Object.defineProperty(exports, \"drawBox\", {\n    enumerable: true,\n    get: function () {\n      return drawBox;\n    }\n  });\n  var _domNodes = require(_dependencyMap[0], \"../../../dom/nodes\");\n  var _skiaTypes = require(_dependencyMap[1], \"../../../skia/types\");\n  var _Core = require(_dependencyMap[2], \"../Core\");\n  var isBoxCommand = command => {\n    \"worklet\";\n\n    return command.type === _Core.CommandType.DrawBox;\n  };\n  var drawBox = (ctx, command) => {\n    \"worklet\";\n\n    var shadows = command.shadows.map(shadow => {\n      return (0, _Core.materializeCommand)(shadow).props;\n    });\n    var paint = ctx.paint,\n      Skia = ctx.Skia,\n      canvas = ctx.canvas;\n    var defaultBox = command.props.box;\n    var opacity = paint.getAlphaf();\n    var box = (0, _skiaTypes.isRRect)(defaultBox) ? defaultBox : Skia.RRectXY(defaultBox, 0, 0);\n    shadows.filter(shadow => !shadow.inner).map(shadow => {\n      var _shadow$color = shadow.color,\n        color = _shadow$color === void 0 ? \"black\" : _shadow$color,\n        blur = shadow.blur,\n        _shadow$spread = shadow.spread,\n        spread = _shadow$spread === void 0 ? 0 : _shadow$spread,\n        _shadow$dx = shadow.dx,\n        dx = _shadow$dx === void 0 ? 0 : _shadow$dx,\n        _shadow$dy = shadow.dy,\n        dy = _shadow$dy === void 0 ? 0 : _shadow$dy;\n      var lPaint = Skia.Paint();\n      lPaint.setColor((0, _domNodes.processColor)(Skia, color));\n      lPaint.setAlphaf(lPaint.getAlphaf() * opacity);\n      lPaint.setMaskFilter(Skia.MaskFilter.MakeBlur(_skiaTypes.BlurStyle.Normal, blur, true));\n      canvas.drawRRect((0, _domNodes.inflate)(Skia, box, spread, spread, dx, dy), lPaint);\n    });\n    canvas.drawRRect(box, paint);\n    shadows.filter(shadow => shadow.inner).map(shadow => {\n      var _shadow$color2 = shadow.color,\n        color = _shadow$color2 === void 0 ? \"black\" : _shadow$color2,\n        blur = shadow.blur,\n        _shadow$spread2 = shadow.spread,\n        spread = _shadow$spread2 === void 0 ? 0 : _shadow$spread2,\n        _shadow$dx2 = shadow.dx,\n        dx = _shadow$dx2 === void 0 ? 0 : _shadow$dx2,\n        _shadow$dy2 = shadow.dy,\n        dy = _shadow$dy2 === void 0 ? 0 : _shadow$dy2;\n      var delta = Skia.Point(10 + Math.abs(dx), 10 + Math.abs(dy));\n      canvas.save();\n      canvas.clipRRect(box, _skiaTypes.ClipOp.Intersect, false);\n      var lPaint = Skia.Paint();\n      lPaint.setColor(Skia.Color(color));\n      lPaint.setAlphaf(lPaint.getAlphaf() * opacity);\n      lPaint.setMaskFilter(Skia.MaskFilter.MakeBlur(_skiaTypes.BlurStyle.Normal, blur, true));\n      var inner = (0, _domNodes.deflate)(Skia, box, spread, spread, dx, dy);\n      var outer = (0, _domNodes.inflate)(Skia, box, delta.x, delta.y);\n      canvas.drawDRRect(outer, inner, lPaint);\n      canvas.restore();\n    });\n  };\n});","lineCount":79,"map":[[7,2,13,0,"Object"],[7,8,13,0],[7,9,13,0,"defineProperty"],[7,23,13,0],[7,24,13,0,"exports"],[7,31,13,0],[8,4,13,0,"enumerable"],[8,14,13,0],[9,4,13,0,"get"],[9,7,13,0],[9,18,13,0,"get"],[9,19,13,0],[10,6,13,0],[10,13,13,0,"isBoxCommand"],[10,25,13,0],[11,4,13,0],[12,2,13,0],[13,2,18,0,"Object"],[13,8,18,0],[13,9,18,0,"defineProperty"],[13,23,18,0],[13,24,18,0,"exports"],[13,31,18,0],[14,4,18,0,"enumerable"],[14,14,18,0],[15,4,18,0,"get"],[15,7,18,0],[15,18,18,0,"get"],[15,19,18,0],[16,6,18,0],[16,13,18,0,"drawBox"],[16,20,18,0],[17,4,18,0],[18,2,18,0],[19,2,1,0],[19,6,1,0,"_domNodes"],[19,15,1,0],[19,18,1,0,"require"],[19,25,1,0],[19,26,1,0,"_dependencyMap"],[19,40,1,0],[20,2,3,0],[20,6,3,0,"_skiaTypes"],[20,16,3,0],[20,19,3,0,"require"],[20,26,3,0],[20,27,3,0,"_dependencyMap"],[20,41,3,0],[21,2,5,0],[21,6,5,0,"_Core"],[21,11,5,0],[21,14,5,0,"require"],[21,21,5,0],[21,22,5,0,"_dependencyMap"],[21,36,5,0],[22,2,13,7],[22,6,13,13,"isBoxCommand"],[22,18,13,25],[22,21,13,29,"command"],[22,28,13,45],[22,32,13,73],[23,4,14,2],[23,13,14,11],[25,4,15,2],[25,11,15,9,"command"],[25,18,15,16],[25,19,15,17,"type"],[25,23,15,21],[25,28,15,26,"CommandType"],[25,33,15,37],[25,34,15,37,"CommandType"],[25,45,15,37],[25,46,15,38,"DrawBox"],[25,53,15,45],[26,2,16,0],[26,3,16,1],[27,2,18,7],[27,6,18,13,"drawBox"],[27,13,18,20],[27,16,18,23,"drawBox"],[27,17,18,24,"ctx"],[27,20,18,43],[27,22,18,45,"command"],[27,29,18,64],[27,34,18,69],[28,4,19,2],[28,13,19,11],[30,4,20,2],[30,8,20,8,"shadows"],[30,15,20,15],[30,18,20,18,"command"],[30,25,20,25],[30,26,20,26,"shadows"],[30,33,20,33],[30,34,20,34,"map"],[30,37,20,37],[30,38,20,39,"shadow"],[30,44,20,45],[30,48,20,50],[31,6,21,4],[31,13,21,11],[31,17,21,11,"materializeCommand"],[31,22,21,29],[31,23,21,29,"materializeCommand"],[31,41,21,29],[31,43,21,30,"shadow"],[31,49,21,36],[31,50,21,37],[31,51,21,38,"props"],[31,56,21,43],[32,4,22,2],[32,5,22,3],[32,6,22,4],[33,4,23,2],[33,8,23,10,"paint"],[33,13,23,15],[33,16,23,34,"ctx"],[33,19,23,37],[33,20,23,10,"paint"],[33,25,23,15],[34,6,23,17,"Skia"],[34,10,23,21],[34,13,23,34,"ctx"],[34,16,23,37],[34,17,23,17,"Skia"],[34,21,23,21],[35,6,23,23,"canvas"],[35,12,23,29],[35,15,23,34,"ctx"],[35,18,23,37],[35,19,23,23,"canvas"],[35,25,23,29],[36,4,24,2],[36,8,24,15,"defaultBox"],[36,18,24,25],[36,21,24,30,"command"],[36,28,24,37],[36,29,24,38,"props"],[36,34,24,43],[36,35,24,10,"box"],[36,38,24,13],[37,4,25,2],[37,8,25,8,"opacity"],[37,15,25,15],[37,18,25,18,"paint"],[37,23,25,23],[37,24,25,24,"getAlphaf"],[37,33,25,33],[37,34,25,34],[37,35,25,35],[38,4,26,2],[38,8,26,8,"box"],[38,11,26,11],[38,14,26,14],[38,18,26,14,"isRRect"],[38,28,26,21],[38,29,26,21,"isRRect"],[38,36,26,21],[38,38,26,22,"defaultBox"],[38,48,26,32],[38,49,26,33],[38,52,26,36,"defaultBox"],[38,62,26,46],[38,65,26,49,"Skia"],[38,69,26,53],[38,70,26,54,"RRectXY"],[38,77,26,61],[38,78,26,62,"defaultBox"],[38,88,26,72],[38,90,26,74],[38,91,26,75],[38,93,26,77],[38,94,26,78],[38,95,26,79],[39,4,27,2,"shadows"],[39,11,27,9],[39,12,28,5,"filter"],[39,18,28,11],[39,19,28,13,"shadow"],[39,25,28,19],[39,29,28,24],[39,30,28,25,"shadow"],[39,36,28,31],[39,37,28,32,"inner"],[39,42,28,37],[39,43,28,38],[39,44,29,5,"map"],[39,47,29,8],[39,48,29,10,"shadow"],[39,54,29,16],[39,58,29,21],[40,6,30,6],[40,10,30,6,"_shadow$color"],[40,23,30,6],[40,26,30,68,"shadow"],[40,32,30,74],[40,33,30,14,"color"],[40,38,30,19],[41,8,30,14,"color"],[41,13,30,19],[41,16,30,19,"_shadow$color"],[41,29,30,19],[41,43,30,22],[41,50,30,29],[41,53,30,29,"_shadow$color"],[41,66,30,29],[42,8,30,31,"blur"],[42,12,30,35],[42,15,30,68,"shadow"],[42,21,30,74],[42,22,30,31,"blur"],[42,26,30,35],[43,8,30,35,"_shadow$spread"],[43,22,30,35],[43,25,30,68,"shadow"],[43,31,30,74],[43,32,30,37,"spread"],[43,38,30,43],[44,8,30,37,"spread"],[44,14,30,43],[44,17,30,43,"_shadow$spread"],[44,31,30,43],[44,45,30,46],[44,46,30,47],[44,49,30,47,"_shadow$spread"],[44,63,30,47],[45,8,30,47,"_shadow$dx"],[45,18,30,47],[45,21,30,68,"shadow"],[45,27,30,74],[45,28,30,49,"dx"],[45,30,30,51],[46,8,30,49,"dx"],[46,10,30,51],[46,13,30,51,"_shadow$dx"],[46,23,30,51],[46,37,30,54],[46,38,30,55],[46,41,30,55,"_shadow$dx"],[46,51,30,55],[47,8,30,55,"_shadow$dy"],[47,18,30,55],[47,21,30,68,"shadow"],[47,27,30,74],[47,28,30,57,"dy"],[47,30,30,59],[48,8,30,57,"dy"],[48,10,30,59],[48,13,30,59,"_shadow$dy"],[48,23,30,59],[48,37,30,62],[48,38,30,63],[48,41,30,63,"_shadow$dy"],[48,51,30,63],[49,6,31,6],[49,10,31,12,"lPaint"],[49,16,31,18],[49,19,31,21,"Skia"],[49,23,31,25],[49,24,31,26,"Paint"],[49,29,31,31],[49,30,31,32],[49,31,31,33],[50,6,32,6,"lPaint"],[50,12,32,12],[50,13,32,13,"setColor"],[50,21,32,21],[50,22,32,22],[50,26,32,22,"processColor"],[50,35,32,34],[50,36,32,34,"processColor"],[50,48,32,34],[50,50,32,35,"Skia"],[50,54,32,39],[50,56,32,41,"color"],[50,61,32,46],[50,62,32,47],[50,63,32,48],[51,6,33,6,"lPaint"],[51,12,33,12],[51,13,33,13,"setAlphaf"],[51,22,33,22],[51,23,33,23,"lPaint"],[51,29,33,29],[51,30,33,30,"getAlphaf"],[51,39,33,39],[51,40,33,40],[51,41,33,41],[51,44,33,44,"opacity"],[51,51,33,51],[51,52,33,52],[52,6,34,6,"lPaint"],[52,12,34,12],[52,13,34,13,"setMaskFilter"],[52,26,34,26],[52,27,35,8,"Skia"],[52,31,35,12],[52,32,35,13,"MaskFilter"],[52,42,35,23],[52,43,35,24,"MakeBlur"],[52,51,35,32],[52,52,35,33,"BlurStyle"],[52,62,35,42],[52,63,35,42,"BlurStyle"],[52,72,35,42],[52,73,35,43,"Normal"],[52,79,35,49],[52,81,35,51,"blur"],[52,85,35,55],[52,87,35,57],[52,91,35,61],[52,92,36,6],[52,93,36,7],[53,6,37,6,"canvas"],[53,12,37,12],[53,13,37,13,"drawRRect"],[53,22,37,22],[53,23,37,23],[53,27,37,23,"inflate"],[53,36,37,30],[53,37,37,30,"inflate"],[53,44,37,30],[53,46,37,31,"Skia"],[53,50,37,35],[53,52,37,37,"box"],[53,55,37,40],[53,57,37,42,"spread"],[53,63,37,48],[53,65,37,50,"spread"],[53,71,37,56],[53,73,37,58,"dx"],[53,75,37,60],[53,77,37,62,"dy"],[53,79,37,64],[53,80,37,65],[53,82,37,67,"lPaint"],[53,88,37,73],[53,89,37,74],[54,4,38,4],[54,5,38,5],[54,6,38,6],[55,4,40,2,"canvas"],[55,10,40,8],[55,11,40,9,"drawRRect"],[55,20,40,18],[55,21,40,19,"box"],[55,24,40,22],[55,26,40,24,"paint"],[55,31,40,29],[55,32,40,30],[56,4,42,2,"shadows"],[56,11,42,9],[56,12,43,5,"filter"],[56,18,43,11],[56,19,43,13,"shadow"],[56,25,43,19],[56,29,43,24,"shadow"],[56,35,43,30],[56,36,43,31,"inner"],[56,41,43,36],[56,42,43,37],[56,43,44,5,"map"],[56,46,44,8],[56,47,44,10,"shadow"],[56,53,44,16],[56,57,44,21],[57,6,45,6],[57,10,45,6,"_shadow$color2"],[57,24,45,6],[57,27,45,68,"shadow"],[57,33,45,74],[57,34,45,14,"color"],[57,39,45,19],[58,8,45,14,"color"],[58,13,45,19],[58,16,45,19,"_shadow$color2"],[58,30,45,19],[58,44,45,22],[58,51,45,29],[58,54,45,29,"_shadow$color2"],[58,68,45,29],[59,8,45,31,"blur"],[59,12,45,35],[59,15,45,68,"shadow"],[59,21,45,74],[59,22,45,31,"blur"],[59,26,45,35],[60,8,45,35,"_shadow$spread2"],[60,23,45,35],[60,26,45,68,"shadow"],[60,32,45,74],[60,33,45,37,"spread"],[60,39,45,43],[61,8,45,37,"spread"],[61,14,45,43],[61,17,45,43,"_shadow$spread2"],[61,32,45,43],[61,46,45,46],[61,47,45,47],[61,50,45,47,"_shadow$spread2"],[61,65,45,47],[62,8,45,47,"_shadow$dx2"],[62,19,45,47],[62,22,45,68,"shadow"],[62,28,45,74],[62,29,45,49,"dx"],[62,31,45,51],[63,8,45,49,"dx"],[63,10,45,51],[63,13,45,51,"_shadow$dx2"],[63,24,45,51],[63,38,45,54],[63,39,45,55],[63,42,45,55,"_shadow$dx2"],[63,53,45,55],[64,8,45,55,"_shadow$dy2"],[64,19,45,55],[64,22,45,68,"shadow"],[64,28,45,74],[64,29,45,57,"dy"],[64,31,45,59],[65,8,45,57,"dy"],[65,10,45,59],[65,13,45,59,"_shadow$dy2"],[65,24,45,59],[65,38,45,62],[65,39,45,63],[65,42,45,63,"_shadow$dy2"],[65,53,45,63],[66,6,46,6],[66,10,46,12,"delta"],[66,15,46,17],[66,18,46,20,"Skia"],[66,22,46,24],[66,23,46,25,"Point"],[66,28,46,30],[66,29,46,31],[66,31,46,33],[66,34,46,36,"Math"],[66,38,46,40],[66,39,46,41,"abs"],[66,42,46,44],[66,43,46,45,"dx"],[66,45,46,47],[66,46,46,48],[66,48,46,50],[66,50,46,52],[66,53,46,55,"Math"],[66,57,46,59],[66,58,46,60,"abs"],[66,61,46,63],[66,62,46,64,"dy"],[66,64,46,66],[66,65,46,67],[66,66,46,68],[67,6,47,6,"canvas"],[67,12,47,12],[67,13,47,13,"save"],[67,17,47,17],[67,18,47,18],[67,19,47,19],[68,6,48,6,"canvas"],[68,12,48,12],[68,13,48,13,"clipRRect"],[68,22,48,22],[68,23,48,23,"box"],[68,26,48,26],[68,28,48,28,"ClipOp"],[68,38,48,34],[68,39,48,34,"ClipOp"],[68,45,48,34],[68,46,48,35,"Intersect"],[68,55,48,44],[68,57,48,46],[68,62,48,51],[68,63,48,52],[69,6,49,6],[69,10,49,12,"lPaint"],[69,16,49,18],[69,19,49,21,"Skia"],[69,23,49,25],[69,24,49,26,"Paint"],[69,29,49,31],[69,30,49,32],[69,31,49,33],[70,6,50,6,"lPaint"],[70,12,50,12],[70,13,50,13,"setColor"],[70,21,50,21],[70,22,50,22,"Skia"],[70,26,50,26],[70,27,50,27,"Color"],[70,32,50,32],[70,33,50,33,"color"],[70,38,50,38],[70,39,50,39],[70,40,50,40],[71,6,51,6,"lPaint"],[71,12,51,12],[71,13,51,13,"setAlphaf"],[71,22,51,22],[71,23,51,23,"lPaint"],[71,29,51,29],[71,30,51,30,"getAlphaf"],[71,39,51,39],[71,40,51,40],[71,41,51,41],[71,44,51,44,"opacity"],[71,51,51,51],[71,52,51,52],[72,6,53,6,"lPaint"],[72,12,53,12],[72,13,53,13,"setMaskFilter"],[72,26,53,26],[72,27,54,8,"Skia"],[72,31,54,12],[72,32,54,13,"MaskFilter"],[72,42,54,23],[72,43,54,24,"MakeBlur"],[72,51,54,32],[72,52,54,33,"BlurStyle"],[72,62,54,42],[72,63,54,42,"BlurStyle"],[72,72,54,42],[72,73,54,43,"Normal"],[72,79,54,49],[72,81,54,51,"blur"],[72,85,54,55],[72,87,54,57],[72,91,54,61],[72,92,55,6],[72,93,55,7],[73,6,56,6],[73,10,56,12,"inner"],[73,15,56,17],[73,18,56,20],[73,22,56,20,"deflate"],[73,31,56,27],[73,32,56,27,"deflate"],[73,39,56,27],[73,41,56,28,"Skia"],[73,45,56,32],[73,47,56,34,"box"],[73,50,56,37],[73,52,56,39,"spread"],[73,58,56,45],[73,60,56,47,"spread"],[73,66,56,53],[73,68,56,55,"dx"],[73,70,56,57],[73,72,56,59,"dy"],[73,74,56,61],[73,75,56,62],[74,6,57,6],[74,10,57,12,"outer"],[74,15,57,17],[74,18,57,20],[74,22,57,20,"inflate"],[74,31,57,27],[74,32,57,27,"inflate"],[74,39,57,27],[74,41,57,28,"Skia"],[74,45,57,32],[74,47,57,34,"box"],[74,50,57,37],[74,52,57,39,"delta"],[74,57,57,44],[74,58,57,45,"x"],[74,59,57,46],[74,61,57,48,"delta"],[74,66,57,53],[74,67,57,54,"y"],[74,68,57,55],[74,69,57,56],[75,6,58,6,"canvas"],[75,12,58,12],[75,13,58,13,"drawDRRect"],[75,23,58,23],[75,24,58,24,"outer"],[75,29,58,29],[75,31,58,31,"inner"],[75,36,58,36],[75,38,58,38,"lPaint"],[75,44,58,44],[75,45,58,45],[76,6,59,6,"canvas"],[76,12,59,12],[76,13,59,13,"restore"],[76,20,59,20],[76,21,59,21],[76,22,59,22],[77,4,60,4],[77,5,60,5],[77,6,60,6],[78,2,61,0],[78,3,61,1],[79,0,61,2],[79,3]],"functionMap":{"names":["<global>","isBoxCommand","drawBox","command.shadows.map$argument_0","shadows.filter$argument_0","shadows.filter.map$argument_0"],"mappings":"AAA;4BCY;CDG;uBEE;sCCE;GDE;YEM,yBF;SGC;KHS;YEK,wBF;SGC;KHgB;CFC"},"hasCjsExports":false},"type":"js/module"}]}