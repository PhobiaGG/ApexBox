{"dependencies":[{"name":"../../../dom/nodes","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":59,"index":59}}],"key":"Z+GW5Ist+DDyIe4BLHPS68wWHKY=","exportNames":["*"],"imports":1}},{"name":"../../../dom/types","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":7,"column":0,"index":178},"end":{"line":7,"column":46,"index":224}}],"key":"9wWUuXr0x+E746pmPkWuV46KRwg=","exportNames":["*"],"imports":1}},{"name":"../../../skia/types","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":9,"column":0,"index":283},"end":{"line":9,"column":48,"index":331}}],"key":"hnxlDT1tba4gQfvf2h/i6nte9KM=","exportNames":["*"],"imports":1}},{"name":"../Core","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":10,"column":0,"index":332},"end":{"line":10,"column":38,"index":370}}],"key":"jbHyCzvbB9jS1IW5Slk1SdkNW+4=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"isPushColorFilter\", {\n    enumerable: true,\n    get: function () {\n      return isPushColorFilter;\n    }\n  });\n  Object.defineProperty(exports, \"composeColorFilters\", {\n    enumerable: true,\n    get: function () {\n      return composeColorFilters;\n    }\n  });\n  Object.defineProperty(exports, \"pushColorFilter\", {\n    enumerable: true,\n    get: function () {\n      return pushColorFilter;\n    }\n  });\n  var _domNodes = require(_dependencyMap[0], \"../../../dom/nodes\");\n  var _domTypes = require(_dependencyMap[1], \"../../../dom/types\");\n  var _skiaTypes = require(_dependencyMap[2], \"../../../skia/types\");\n  var _Core = require(_dependencyMap[3], \"../Core\");\n  var isPushColorFilter = command => {\n    \"worklet\";\n\n    return command.type === _Core.CommandType.PushColorFilter;\n  };\n  var isColorFilter = (command, type) => {\n    \"worklet\";\n\n    return command.colorFilterType === type;\n  };\n  var composeColorFilters = ctx => {\n    \"worklet\";\n\n    if (ctx.colorFilters.length > 1) {\n      var outer = ctx.colorFilters.pop();\n      var inner = ctx.colorFilters.pop();\n      ctx.colorFilters.push(ctx.Skia.ColorFilter.MakeCompose(outer, inner));\n    }\n  };\n  var pushColorFilter = (ctx, command) => {\n    \"worklet\";\n\n    var cf;\n    if (isColorFilter(command, _domTypes.NodeType.BlendColorFilter)) {\n      var props = command.props;\n      var mode = props.mode;\n      var color = (0, _domNodes.processColor)(ctx.Skia, props.color);\n      cf = ctx.Skia.ColorFilter.MakeBlend(color, _skiaTypes.BlendMode[(0, _domNodes.enumKey)(mode)]);\n    } else if (isColorFilter(command, _domTypes.NodeType.MatrixColorFilter)) {\n      var matrix = command.props.matrix;\n      cf = ctx.Skia.ColorFilter.MakeMatrix(matrix);\n    } else if (isColorFilter(command, _domTypes.NodeType.LerpColorFilter)) {\n      var _props = command.props;\n      var t = _props.t;\n      var second = ctx.colorFilters.pop();\n      var first = ctx.colorFilters.pop();\n      if (!first || !second) {\n        throw new Error(\"LerpColorFilter requires two color filters\");\n      }\n      cf = ctx.Skia.ColorFilter.MakeLerp(t, first, second);\n    } else if (isColorFilter(command, _domTypes.NodeType.LumaColorFilter)) {\n      cf = ctx.Skia.ColorFilter.MakeLumaColorFilter();\n    } else if (isColorFilter(command, _domTypes.NodeType.LinearToSRGBGammaColorFilter)) {\n      cf = ctx.Skia.ColorFilter.MakeLinearToSRGBGamma();\n    } else if (isColorFilter(command, _domTypes.NodeType.SRGBToLinearGammaColorFilter)) {\n      cf = ctx.Skia.ColorFilter.MakeSRGBToLinearGamma();\n    }\n    if (!cf) {\n      throw new Error(`Unknown color filter type: ${command.colorFilterType}`);\n    }\n    ctx.colorFilters.push(cf);\n  };\n});","lineCount":81,"map":[[7,2,14,0,"Object"],[7,8,14,0],[7,9,14,0,"defineProperty"],[7,23,14,0],[7,24,14,0,"exports"],[7,31,14,0],[8,4,14,0,"enumerable"],[8,14,14,0],[9,4,14,0,"get"],[9,7,14,0],[9,18,14,0,"get"],[9,19,14,0],[10,6,14,0],[10,13,14,0,"isPushColorFilter"],[10,30,14,0],[11,4,14,0],[12,2,14,0],[13,2,44,0,"Object"],[13,8,44,0],[13,9,44,0,"defineProperty"],[13,23,44,0],[13,24,44,0,"exports"],[13,31,44,0],[14,4,44,0,"enumerable"],[14,14,44,0],[15,4,44,0,"get"],[15,7,44,0],[15,18,44,0,"get"],[15,19,44,0],[16,6,44,0],[16,13,44,0,"composeColorFilters"],[16,32,44,0],[17,4,44,0],[18,2,44,0],[19,2,53,0,"Object"],[19,8,53,0],[19,9,53,0,"defineProperty"],[19,23,53,0],[19,24,53,0,"exports"],[19,31,53,0],[20,4,53,0,"enumerable"],[20,14,53,0],[21,4,53,0,"get"],[21,7,53,0],[21,18,53,0,"get"],[21,19,53,0],[22,6,53,0],[22,13,53,0,"pushColorFilter"],[22,28,53,0],[23,4,53,0],[24,2,53,0],[25,2,1,0],[25,6,1,0,"_domNodes"],[25,15,1,0],[25,18,1,0,"require"],[25,25,1,0],[25,26,1,0,"_dependencyMap"],[25,40,1,0],[26,2,7,0],[26,6,7,0,"_domTypes"],[26,15,7,0],[26,18,7,0,"require"],[26,25,7,0],[26,26,7,0,"_dependencyMap"],[26,40,7,0],[27,2,9,0],[27,6,9,0,"_skiaTypes"],[27,16,9,0],[27,19,9,0,"require"],[27,26,9,0],[27,27,9,0,"_dependencyMap"],[27,41,9,0],[28,2,10,0],[28,6,10,0,"_Core"],[28,11,10,0],[28,14,10,0,"require"],[28,21,10,0],[28,22,10,0,"_dependencyMap"],[28,36,10,0],[29,2,14,7],[29,6,14,13,"isPushColorFilter"],[29,23,14,30],[29,26,15,2,"command"],[29,33,15,18],[29,37,16,54],[30,4,17,2],[30,13,17,11],[32,4,18,2],[32,11,18,9,"command"],[32,18,18,16],[32,19,18,17,"type"],[32,23,18,21],[32,28,18,26,"CommandType"],[32,33,18,37],[32,34,18,37,"CommandType"],[32,45,18,37],[32,46,18,38,"PushColorFilter"],[32,61,18,53],[33,2,19,0],[33,3,19,1],[34,2,36,0],[34,6,36,6,"isColorFilter"],[34,19,36,19],[34,22,36,22,"isColorFilter"],[34,23,37,2,"command"],[34,30,37,47],[34,32,38,2,"type"],[34,36,38,9],[34,41,39,36],[35,4,40,2],[35,13,40,11],[37,4,41,2],[37,11,41,9,"command"],[37,18,41,16],[37,19,41,17,"colorFilterType"],[37,34,41,32],[37,39,41,37,"type"],[37,43,41,41],[38,2,42,0],[38,3,42,1],[39,2,44,7],[39,6,44,13,"composeColorFilters"],[39,25,44,32],[39,28,44,36,"ctx"],[39,31,44,55],[39,35,44,60],[40,4,45,2],[40,13,45,11],[42,4,46,2],[42,8,46,6,"ctx"],[42,11,46,9],[42,12,46,10,"colorFilters"],[42,24,46,22],[42,25,46,23,"length"],[42,31,46,29],[42,34,46,32],[42,35,46,33],[42,37,46,35],[43,6,47,4],[43,10,47,10,"outer"],[43,15,47,15],[43,18,47,18,"ctx"],[43,21,47,21],[43,22,47,22,"colorFilters"],[43,34,47,34],[43,35,47,35,"pop"],[43,38,47,38],[43,39,47,39],[43,40,47,41],[44,6,48,4],[44,10,48,10,"inner"],[44,15,48,15],[44,18,48,18,"ctx"],[44,21,48,21],[44,22,48,22,"colorFilters"],[44,34,48,34],[44,35,48,35,"pop"],[44,38,48,38],[44,39,48,39],[44,40,48,41],[45,6,49,4,"ctx"],[45,9,49,7],[45,10,49,8,"colorFilters"],[45,22,49,20],[45,23,49,21,"push"],[45,27,49,25],[45,28,49,26,"ctx"],[45,31,49,29],[45,32,49,30,"Skia"],[45,36,49,34],[45,37,49,35,"ColorFilter"],[45,48,49,46],[45,49,49,47,"MakeCompose"],[45,60,49,58],[45,61,49,59,"outer"],[45,66,49,64],[45,68,49,66,"inner"],[45,73,49,71],[45,74,49,72],[45,75,49,73],[46,4,50,2],[47,2,51,0],[47,3,51,1],[48,2,53,7],[48,6,53,13,"pushColorFilter"],[48,21,53,28],[48,24,53,31,"pushColorFilter"],[48,25,54,2,"ctx"],[48,28,54,21],[48,30,55,2,"command"],[48,37,55,47],[48,42,56,5],[49,4,57,2],[49,13,57,11],[51,4,58,2],[51,8,58,6,"cf"],[51,10,58,35],[52,4,59,2],[52,8,59,6,"isColorFilter"],[52,21,59,19],[52,22,59,20,"command"],[52,29,59,27],[52,31,59,29,"NodeType"],[52,40,59,37],[52,41,59,37,"NodeType"],[52,49,59,37],[52,50,59,38,"BlendColorFilter"],[52,66,59,54],[52,67,59,55],[52,69,59,57],[53,6,60,4],[53,10,60,12,"props"],[53,15,60,17],[53,18,60,22,"command"],[53,25,60,29],[53,26,60,12,"props"],[53,31,60,17],[54,6,61,4],[54,10,61,12,"mode"],[54,14,61,16],[54,17,61,21,"props"],[54,22,61,26],[54,23,61,12,"mode"],[54,27,61,16],[55,6,62,4],[55,10,62,10,"color"],[55,15,62,15],[55,18,62,18],[55,22,62,18,"processColor"],[55,31,62,30],[55,32,62,30,"processColor"],[55,44,62,30],[55,46,62,31,"ctx"],[55,49,62,34],[55,50,62,35,"Skia"],[55,54,62,39],[55,56,62,41,"props"],[55,61,62,46],[55,62,62,47,"color"],[55,67,62,52],[55,68,62,53],[56,6,63,4,"cf"],[56,8,63,6],[56,11,63,9,"ctx"],[56,14,63,12],[56,15,63,13,"Skia"],[56,19,63,17],[56,20,63,18,"ColorFilter"],[56,31,63,29],[56,32,63,30,"MakeBlend"],[56,41,63,39],[56,42,63,40,"color"],[56,47,63,45],[56,49,63,47,"BlendMode"],[56,59,63,56],[56,60,63,56,"BlendMode"],[56,69,63,56],[56,70,63,57],[56,74,63,57,"enumKey"],[56,83,63,64],[56,84,63,64,"enumKey"],[56,91,63,64],[56,93,63,65,"mode"],[56,97,63,69],[56,98,63,70],[56,99,63,71],[56,100,63,72],[57,4,64,2],[57,5,64,3],[57,11,64,9],[57,15,64,13,"isColorFilter"],[57,28,64,26],[57,29,64,27,"command"],[57,36,64,34],[57,38,64,36,"NodeType"],[57,47,64,44],[57,48,64,44,"NodeType"],[57,56,64,44],[57,57,64,45,"MatrixColorFilter"],[57,74,64,62],[57,75,64,63],[57,77,64,65],[58,6,65,4],[58,10,65,12,"matrix"],[58,16,65,18],[58,19,65,23,"command"],[58,26,65,30],[58,27,65,31,"props"],[58,32,65,36],[58,33,65,12,"matrix"],[58,39,65,18],[59,6,66,4,"cf"],[59,8,66,6],[59,11,66,9,"ctx"],[59,14,66,12],[59,15,66,13,"Skia"],[59,19,66,17],[59,20,66,18,"ColorFilter"],[59,31,66,29],[59,32,66,30,"MakeMatrix"],[59,42,66,40],[59,43,66,41,"matrix"],[59,49,66,47],[59,50,66,48],[60,4,67,2],[60,5,67,3],[60,11,67,9],[60,15,67,13,"isColorFilter"],[60,28,67,26],[60,29,67,27,"command"],[60,36,67,34],[60,38,67,36,"NodeType"],[60,47,67,44],[60,48,67,44,"NodeType"],[60,56,67,44],[60,57,67,45,"LerpColorFilter"],[60,72,67,60],[60,73,67,61],[60,75,67,63],[61,6,68,4],[61,10,68,12,"props"],[61,16,68,17],[61,19,68,22,"command"],[61,26,68,29],[61,27,68,12,"props"],[61,32,68,17],[62,6,69,4],[62,10,69,12,"t"],[62,11,69,13],[62,14,69,18,"props"],[62,20,69,23],[62,21,69,12,"t"],[62,22,69,13],[63,6,70,4],[63,10,70,10,"second"],[63,16,70,16],[63,19,70,19,"ctx"],[63,22,70,22],[63,23,70,23,"colorFilters"],[63,35,70,35],[63,36,70,36,"pop"],[63,39,70,39],[63,40,70,40],[63,41,70,41],[64,6,71,4],[64,10,71,10,"first"],[64,15,71,15],[64,18,71,18,"ctx"],[64,21,71,21],[64,22,71,22,"colorFilters"],[64,34,71,34],[64,35,71,35,"pop"],[64,38,71,38],[64,39,71,39],[64,40,71,40],[65,6,72,4],[65,10,72,8],[65,11,72,9,"first"],[65,16,72,14],[65,20,72,18],[65,21,72,19,"second"],[65,27,72,25],[65,29,72,27],[66,8,73,6],[66,14,73,12],[66,18,73,16,"Error"],[66,23,73,21],[66,24,73,22],[66,68,73,66],[66,69,73,67],[67,6,74,4],[68,6,75,4,"cf"],[68,8,75,6],[68,11,75,9,"ctx"],[68,14,75,12],[68,15,75,13,"Skia"],[68,19,75,17],[68,20,75,18,"ColorFilter"],[68,31,75,29],[68,32,75,30,"MakeLerp"],[68,40,75,38],[68,41,75,39,"t"],[68,42,75,40],[68,44,75,42,"first"],[68,49,75,47],[68,51,75,49,"second"],[68,57,75,55],[68,58,75,56],[69,4,76,2],[69,5,76,3],[69,11,76,9],[69,15,76,13,"isColorFilter"],[69,28,76,26],[69,29,76,27,"command"],[69,36,76,34],[69,38,76,36,"NodeType"],[69,47,76,44],[69,48,76,44,"NodeType"],[69,56,76,44],[69,57,76,45,"LumaColorFilter"],[69,72,76,60],[69,73,76,61],[69,75,76,63],[70,6,77,4,"cf"],[70,8,77,6],[70,11,77,9,"ctx"],[70,14,77,12],[70,15,77,13,"Skia"],[70,19,77,17],[70,20,77,18,"ColorFilter"],[70,31,77,29],[70,32,77,30,"MakeLumaColorFilter"],[70,51,77,49],[70,52,77,50],[70,53,77,51],[71,4,78,2],[71,5,78,3],[71,11,78,9],[71,15,78,13,"isColorFilter"],[71,28,78,26],[71,29,78,27,"command"],[71,36,78,34],[71,38,78,36,"NodeType"],[71,47,78,44],[71,48,78,44,"NodeType"],[71,56,78,44],[71,57,78,45,"LinearToSRGBGammaColorFilter"],[71,85,78,73],[71,86,78,74],[71,88,78,76],[72,6,79,4,"cf"],[72,8,79,6],[72,11,79,9,"ctx"],[72,14,79,12],[72,15,79,13,"Skia"],[72,19,79,17],[72,20,79,18,"ColorFilter"],[72,31,79,29],[72,32,79,30,"MakeLinearToSRGBGamma"],[72,53,79,51],[72,54,79,52],[72,55,79,53],[73,4,80,2],[73,5,80,3],[73,11,80,9],[73,15,80,13,"isColorFilter"],[73,28,80,26],[73,29,80,27,"command"],[73,36,80,34],[73,38,80,36,"NodeType"],[73,47,80,44],[73,48,80,44,"NodeType"],[73,56,80,44],[73,57,80,45,"SRGBToLinearGammaColorFilter"],[73,85,80,73],[73,86,80,74],[73,88,80,76],[74,6,81,4,"cf"],[74,8,81,6],[74,11,81,9,"ctx"],[74,14,81,12],[74,15,81,13,"Skia"],[74,19,81,17],[74,20,81,18,"ColorFilter"],[74,31,81,29],[74,32,81,30,"MakeSRGBToLinearGamma"],[74,53,81,51],[74,54,81,52],[74,55,81,53],[75,4,82,2],[76,4,83,2],[76,8,83,6],[76,9,83,7,"cf"],[76,11,83,9],[76,13,83,11],[77,6,84,4],[77,12,84,10],[77,16,84,14,"Error"],[77,21,84,19],[77,22,84,20],[77,52,84,50,"command"],[77,59,84,57],[77,60,84,58,"colorFilterType"],[77,75,84,73],[77,77,84,75],[77,78,84,76],[78,4,85,2],[79,4,86,2,"ctx"],[79,7,86,5],[79,8,86,6,"colorFilters"],[79,20,86,18],[79,21,86,19,"push"],[79,25,86,23],[79,26,86,24,"cf"],[79,28,86,26],[79,29,86,27],[80,2,87,0],[80,3,87,1],[81,0,87,2],[81,3]],"functionMap":{"names":["<global>","isPushColorFilter","isColorFilter","composeColorFilters","pushColorFilter"],"mappings":"AAA;iCCa;CDK;sBEiB;CFM;mCGE;CHO;+BIE;CJkC"},"hasCjsExports":false},"type":"js/module"}]}