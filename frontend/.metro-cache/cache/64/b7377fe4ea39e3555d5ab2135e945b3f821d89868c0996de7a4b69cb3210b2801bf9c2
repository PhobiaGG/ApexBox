{"dependencies":[],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"createDrawingContext\", {\n    enumerable: true,\n    get: function () {\n      return createDrawingContext;\n    }\n  });\n  var createDrawingContext = (Skia, paintPool, canvas) => {\n    \"worklet\";\n\n    // State (formerly class fields)\n    var paints = [];\n    var colorFilters = [];\n    var shaders = [];\n    var imageFilters = [];\n    var pathEffects = [];\n    var paintDeclarations = [];\n    var opacities = [];\n    var nextPaintIndex = 1;\n\n    // Initialize first paint and opacity\n    paintPool[0] = Skia.Paint();\n    paints.push(paintPool[0]);\n    opacities.push(1);\n\n    // Methods (formerly class methods)\n    var savePaint = () => {\n      // Get next available paint from pool or create new one if needed\n      if (nextPaintIndex >= paintPool.length) {\n        paintPool.push(Skia.Paint());\n      }\n      var nextPaint = paintPool[nextPaintIndex];\n      nextPaint.assign(getCurrentPaint()); // Reuse allocation by copying properties\n      paints.push(nextPaint);\n      opacities.push(opacities[opacities.length - 1]);\n      nextPaintIndex++;\n    };\n    var getOpacity = () => {\n      return opacities[opacities.length - 1];\n    };\n    var setOpacity = newOpacity => {\n      opacities[opacities.length - 1] = Math.max(0, Math.min(1, newOpacity));\n    };\n    var saveBackdropFilter = () => {\n      var imageFilter = null;\n      var imgf = imageFilters.pop();\n      if (imgf) {\n        imageFilter = imgf;\n      } else {\n        var cf = colorFilters.pop();\n        if (cf) {\n          imageFilter = Skia.ImageFilter.MakeColorFilter(cf, null);\n        }\n      }\n      canvas.saveLayer(undefined, null, imageFilter);\n      canvas.restore();\n    };\n\n    // Equivalent to the `get paint()` getter in the original class\n    var getCurrentPaint = () => {\n      return paints[paints.length - 1];\n    };\n    var restorePaint = () => {\n      opacities.pop();\n      return paints.pop();\n    };\n    var materializePaint = () => {\n      // Color Filters\n      if (colorFilters.length > 0) {\n        getCurrentPaint().setColorFilter(colorFilters.reduceRight((inner, outer) => inner ? Skia.ColorFilter.MakeCompose(outer, inner) : outer));\n      }\n      // Shaders\n      if (shaders.length > 0) {\n        getCurrentPaint().setShader(shaders[shaders.length - 1]);\n      }\n      // Image Filters\n      if (imageFilters.length > 0) {\n        getCurrentPaint().setImageFilter(imageFilters.reduceRight((inner, outer) => inner ? Skia.ImageFilter.MakeCompose(outer, inner) : outer));\n      }\n\n      // Path Effects\n      if (pathEffects.length > 0) {\n        getCurrentPaint().setPathEffect(pathEffects.reduceRight((inner, outer) => inner ? Skia.PathEffect.MakeCompose(outer, inner) : outer));\n      }\n\n      // Clear arrays\n      colorFilters.length = 0;\n      shaders.length = 0;\n      imageFilters.length = 0;\n      pathEffects.length = 0;\n    };\n\n    // Return an object containing the Skia reference, the canvas, and the methods\n    return {\n      // Public fields\n      Skia,\n      canvas,\n      paints,\n      colorFilters,\n      shaders,\n      imageFilters,\n      pathEffects,\n      paintDeclarations,\n      paintPool,\n      // Public methods\n      savePaint,\n      saveBackdropFilter,\n      get paint() {\n        return paints[paints.length - 1];\n      },\n      // the \"getter\" for the current paint\n      restorePaint,\n      materializePaint,\n      getOpacity,\n      setOpacity\n    };\n  };\n});","lineCount":123,"map":[[7,2,11,0,"Object"],[7,8,11,0],[7,9,11,0,"defineProperty"],[7,23,11,0],[7,24,11,0,"exports"],[7,31,11,0],[8,4,11,0,"enumerable"],[8,14,11,0],[9,4,11,0,"get"],[9,7,11,0],[9,18,11,0,"get"],[9,19,11,0],[10,6,11,0],[10,13,11,0,"createDrawingContext"],[10,33,11,0],[11,4,11,0],[12,2,11,0],[13,2,11,7],[13,6,11,13,"createDrawingContext"],[13,26,11,33],[13,29,11,36,"createDrawingContext"],[13,30,12,2,"Skia"],[13,34,12,12],[13,36,13,2,"paintPool"],[13,45,13,22],[13,47,14,2,"canvas"],[13,53,14,18],[13,58,15,5],[14,4,16,2],[14,13,16,11],[16,4,18,2],[17,4,19,2],[17,8,19,8,"paints"],[17,14,19,25],[17,17,19,28],[17,19,19,30],[18,4,20,2],[18,8,20,8,"colorFilters"],[18,20,20,37],[18,23,20,40],[18,25,20,42],[19,4,21,2],[19,8,21,8,"shaders"],[19,15,21,27],[19,18,21,30],[19,20,21,32],[20,4,22,2],[20,8,22,8,"imageFilters"],[20,20,22,37],[20,23,22,40],[20,25,22,42],[21,4,23,2],[21,8,23,8,"pathEffects"],[21,19,23,35],[21,22,23,38],[21,24,23,40],[22,4,24,2],[22,8,24,8,"paintDeclarations"],[22,25,24,36],[22,28,24,39],[22,30,24,41],[23,4,25,2],[23,8,25,8,"opacities"],[23,17,25,27],[23,20,25,30],[23,22,25,32],[24,4,27,2],[24,8,27,6,"nextPaintIndex"],[24,22,27,20],[24,25,27,23],[24,26,27,24],[26,4,29,2],[27,4,30,2,"paintPool"],[27,13,30,11],[27,14,30,12],[27,15,30,13],[27,16,30,14],[27,19,30,17,"Skia"],[27,23,30,21],[27,24,30,22,"Paint"],[27,29,30,27],[27,30,30,28],[27,31,30,29],[28,4,31,2,"paints"],[28,10,31,8],[28,11,31,9,"push"],[28,15,31,13],[28,16,31,14,"paintPool"],[28,25,31,23],[28,26,31,24],[28,27,31,25],[28,28,31,26],[28,29,31,27],[29,4,32,2,"opacities"],[29,13,32,11],[29,14,32,12,"push"],[29,18,32,16],[29,19,32,17],[29,20,32,18],[29,21,32,19],[31,4,34,2],[32,4,35,2],[32,8,35,8,"savePaint"],[32,17,35,17],[32,20,35,20,"savePaint"],[32,21,35,20],[32,26,35,26],[33,6,36,4],[34,6,37,4],[34,10,37,8,"nextPaintIndex"],[34,24,37,22],[34,28,37,26,"paintPool"],[34,37,37,35],[34,38,37,36,"length"],[34,44,37,42],[34,46,37,44],[35,8,38,6,"paintPool"],[35,17,38,15],[35,18,38,16,"push"],[35,22,38,20],[35,23,38,21,"Skia"],[35,27,38,25],[35,28,38,26,"Paint"],[35,33,38,31],[35,34,38,32],[35,35,38,33],[35,36,38,34],[36,6,39,4],[37,6,41,4],[37,10,41,10,"nextPaint"],[37,19,41,19],[37,22,41,22,"paintPool"],[37,31,41,31],[37,32,41,32,"nextPaintIndex"],[37,46,41,46],[37,47,41,47],[38,6,42,4,"nextPaint"],[38,15,42,13],[38,16,42,14,"assign"],[38,22,42,20],[38,23,42,21,"getCurrentPaint"],[38,38,42,36],[38,39,42,37],[38,40,42,38],[38,41,42,39],[38,42,42,40],[38,43,42,41],[39,6,43,4,"paints"],[39,12,43,10],[39,13,43,11,"push"],[39,17,43,15],[39,18,43,16,"nextPaint"],[39,27,43,25],[39,28,43,26],[40,6,44,4,"opacities"],[40,15,44,13],[40,16,44,14,"push"],[40,20,44,18],[40,21,44,19,"opacities"],[40,30,44,28],[40,31,44,29,"opacities"],[40,40,44,38],[40,41,44,39,"length"],[40,47,44,45],[40,50,44,48],[40,51,44,49],[40,52,44,50],[40,53,44,51],[41,6,45,4,"nextPaintIndex"],[41,20,45,18],[41,22,45,20],[42,4,46,2],[42,5,46,3],[43,4,48,2],[43,8,48,8,"getOpacity"],[43,18,48,18],[43,21,48,21,"getOpacity"],[43,22,48,21],[43,27,48,27],[44,6,49,4],[44,13,49,11,"opacities"],[44,22,49,20],[44,23,49,21,"opacities"],[44,32,49,30],[44,33,49,31,"length"],[44,39,49,37],[44,42,49,40],[44,43,49,41],[44,44,49,42],[45,4,50,2],[45,5,50,3],[46,4,52,2],[46,8,52,8,"setOpacity"],[46,18,52,18],[46,21,52,22,"newOpacity"],[46,31,52,40],[46,35,52,45],[47,6,53,4,"opacities"],[47,15,53,13],[47,16,53,14,"opacities"],[47,25,53,23],[47,26,53,24,"length"],[47,32,53,30],[47,35,53,33],[47,36,53,34],[47,37,53,35],[47,40,53,38,"Math"],[47,44,53,42],[47,45,53,43,"max"],[47,48,53,46],[47,49,53,47],[47,50,53,48],[47,52,53,50,"Math"],[47,56,53,54],[47,57,53,55,"min"],[47,60,53,58],[47,61,53,59],[47,62,53,60],[47,64,53,62,"newOpacity"],[47,74,53,72],[47,75,53,73],[47,76,53,74],[48,4,54,2],[48,5,54,3],[49,4,56,2],[49,8,56,8,"saveBackdropFilter"],[49,26,56,26],[49,29,56,29,"saveBackdropFilter"],[49,30,56,29],[49,35,56,35],[50,6,57,4],[50,10,57,8,"imageFilter"],[50,21,57,41],[50,24,57,44],[50,28,57,48],[51,6,58,4],[51,10,58,10,"imgf"],[51,14,58,14],[51,17,58,17,"imageFilters"],[51,29,58,29],[51,30,58,30,"pop"],[51,33,58,33],[51,34,58,34],[51,35,58,35],[52,6,59,4],[52,10,59,8,"imgf"],[52,14,59,12],[52,16,59,14],[53,8,60,6,"imageFilter"],[53,19,60,17],[53,22,60,20,"imgf"],[53,26,60,24],[54,6,61,4],[54,7,61,5],[54,13,61,11],[55,8,62,6],[55,12,62,12,"cf"],[55,14,62,14],[55,17,62,17,"colorFilters"],[55,29,62,29],[55,30,62,30,"pop"],[55,33,62,33],[55,34,62,34],[55,35,62,35],[56,8,63,6],[56,12,63,10,"cf"],[56,14,63,12],[56,16,63,14],[57,10,64,8,"imageFilter"],[57,21,64,19],[57,24,64,22,"Skia"],[57,28,64,26],[57,29,64,27,"ImageFilter"],[57,40,64,38],[57,41,64,39,"MakeColorFilter"],[57,56,64,54],[57,57,64,55,"cf"],[57,59,64,57],[57,61,64,59],[57,65,64,63],[57,66,64,64],[58,8,65,6],[59,6,66,4],[60,6,67,4,"canvas"],[60,12,67,10],[60,13,67,11,"saveLayer"],[60,22,67,20],[60,23,67,21,"undefined"],[60,32,67,30],[60,34,67,32],[60,38,67,36],[60,40,67,38,"imageFilter"],[60,51,67,49],[60,52,67,50],[61,6,68,4,"canvas"],[61,12,68,10],[61,13,68,11,"restore"],[61,20,68,18],[61,21,68,19],[61,22,68,20],[62,4,69,2],[62,5,69,3],[64,4,71,2],[65,4,72,2],[65,8,72,8,"getCurrentPaint"],[65,23,72,23],[65,26,72,26,"getCurrentPaint"],[65,27,72,26],[65,32,72,32],[66,6,73,4],[66,13,73,11,"paints"],[66,19,73,17],[66,20,73,18,"paints"],[66,26,73,24],[66,27,73,25,"length"],[66,33,73,31],[66,36,73,34],[66,37,73,35],[66,38,73,36],[67,4,74,2],[67,5,74,3],[68,4,76,2],[68,8,76,8,"restorePaint"],[68,20,76,20],[68,23,76,23,"restorePaint"],[68,24,76,23],[68,29,76,29],[69,6,77,4,"opacities"],[69,15,77,13],[69,16,77,14,"pop"],[69,19,77,17],[69,20,77,18],[69,21,77,19],[70,6,78,4],[70,13,78,11,"paints"],[70,19,78,17],[70,20,78,18,"pop"],[70,23,78,21],[70,24,78,22],[70,25,78,23],[71,4,79,2],[71,5,79,3],[72,4,81,2],[72,8,81,8,"materializePaint"],[72,24,81,24],[72,27,81,27,"materializePaint"],[72,28,81,27],[72,33,81,33],[73,6,82,4],[74,6,83,4],[74,10,83,8,"colorFilters"],[74,22,83,20],[74,23,83,21,"length"],[74,29,83,27],[74,32,83,30],[74,33,83,31],[74,35,83,33],[75,8,84,6,"getCurrentPaint"],[75,23,84,21],[75,24,84,22],[75,25,84,23],[75,26,84,24,"setColorFilter"],[75,40,84,38],[75,41,85,8,"colorFilters"],[75,53,85,20],[75,54,85,21,"reduceRight"],[75,65,85,32],[75,66,85,33],[75,67,85,34,"inner"],[75,72,85,39],[75,74,85,41,"outer"],[75,79,85,46],[75,84,86,10,"inner"],[75,89,86,15],[75,92,86,18,"Skia"],[75,96,86,22],[75,97,86,23,"ColorFilter"],[75,108,86,34],[75,109,86,35,"MakeCompose"],[75,120,86,46],[75,121,86,47,"outer"],[75,126,86,52],[75,128,86,54,"inner"],[75,133,86,59],[75,134,86,60],[75,137,86,63,"outer"],[75,142,87,8],[75,143,88,6],[75,144,88,7],[76,6,89,4],[77,6,90,4],[78,6,91,4],[78,10,91,8,"shaders"],[78,17,91,15],[78,18,91,16,"length"],[78,24,91,22],[78,27,91,25],[78,28,91,26],[78,30,91,28],[79,8,92,6,"getCurrentPaint"],[79,23,92,21],[79,24,92,22],[79,25,92,23],[79,26,92,24,"setShader"],[79,35,92,33],[79,36,92,34,"shaders"],[79,43,92,41],[79,44,92,42,"shaders"],[79,51,92,49],[79,52,92,50,"length"],[79,58,92,56],[79,61,92,59],[79,62,92,60],[79,63,92,61],[79,64,92,62],[80,6,93,4],[81,6,94,4],[82,6,95,4],[82,10,95,8,"imageFilters"],[82,22,95,20],[82,23,95,21,"length"],[82,29,95,27],[82,32,95,30],[82,33,95,31],[82,35,95,33],[83,8,96,6,"getCurrentPaint"],[83,23,96,21],[83,24,96,22],[83,25,96,23],[83,26,96,24,"setImageFilter"],[83,40,96,38],[83,41,97,8,"imageFilters"],[83,53,97,20],[83,54,97,21,"reduceRight"],[83,65,97,32],[83,66,97,33],[83,67,97,34,"inner"],[83,72,97,39],[83,74,97,41,"outer"],[83,79,97,46],[83,84,98,10,"inner"],[83,89,98,15],[83,92,98,18,"Skia"],[83,96,98,22],[83,97,98,23,"ImageFilter"],[83,108,98,34],[83,109,98,35,"MakeCompose"],[83,120,98,46],[83,121,98,47,"outer"],[83,126,98,52],[83,128,98,54,"inner"],[83,133,98,59],[83,134,98,60],[83,137,98,63,"outer"],[83,142,99,8],[83,143,100,6],[83,144,100,7],[84,6,101,4],[86,6,103,4],[87,6,104,4],[87,10,104,8,"pathEffects"],[87,21,104,19],[87,22,104,20,"length"],[87,28,104,26],[87,31,104,29],[87,32,104,30],[87,34,104,32],[88,8,105,6,"getCurrentPaint"],[88,23,105,21],[88,24,105,22],[88,25,105,23],[88,26,105,24,"setPathEffect"],[88,39,105,37],[88,40,106,8,"pathEffects"],[88,51,106,19],[88,52,106,20,"reduceRight"],[88,63,106,31],[88,64,106,32],[88,65,106,33,"inner"],[88,70,106,38],[88,72,106,40,"outer"],[88,77,106,45],[88,82,107,10,"inner"],[88,87,107,15],[88,90,107,18,"Skia"],[88,94,107,22],[88,95,107,23,"PathEffect"],[88,105,107,33],[88,106,107,34,"MakeCompose"],[88,117,107,45],[88,118,107,46,"outer"],[88,123,107,51],[88,125,107,53,"inner"],[88,130,107,58],[88,131,107,59],[88,134,107,62,"outer"],[88,139,108,8],[88,140,109,6],[88,141,109,7],[89,6,110,4],[91,6,112,4],[92,6,113,4,"colorFilters"],[92,18,113,16],[92,19,113,17,"length"],[92,25,113,23],[92,28,113,26],[92,29,113,27],[93,6,114,4,"shaders"],[93,13,114,11],[93,14,114,12,"length"],[93,20,114,18],[93,23,114,21],[93,24,114,22],[94,6,115,4,"imageFilters"],[94,18,115,16],[94,19,115,17,"length"],[94,25,115,23],[94,28,115,26],[94,29,115,27],[95,6,116,4,"pathEffects"],[95,17,116,15],[95,18,116,16,"length"],[95,24,116,22],[95,27,116,25],[95,28,116,26],[96,4,117,2],[96,5,117,3],[98,4,119,2],[99,4,120,2],[99,11,120,9],[100,6,121,4],[101,6,122,4,"Skia"],[101,10,122,8],[102,6,123,4,"canvas"],[102,12,123,10],[103,6,124,4,"paints"],[103,12,124,10],[104,6,125,4,"colorFilters"],[104,18,125,16],[105,6,126,4,"shaders"],[105,13,126,11],[106,6,127,4,"imageFilters"],[106,18,127,16],[107,6,128,4,"pathEffects"],[107,17,128,15],[108,6,129,4,"paintDeclarations"],[108,23,129,21],[109,6,130,4,"paintPool"],[109,15,130,13],[110,6,132,4],[111,6,133,4,"savePaint"],[111,15,133,13],[112,6,134,4,"saveBackdropFilter"],[112,24,134,22],[113,6,135,4],[113,10,135,8,"paint"],[113,15,135,13,"paint"],[113,16,135,13],[113,18,135,16],[114,8,136,6],[114,15,136,13,"paints"],[114,21,136,19],[114,22,136,20,"paints"],[114,28,136,26],[114,29,136,27,"length"],[114,35,136,33],[114,38,136,36],[114,39,136,37],[114,40,136,38],[115,6,137,4],[115,7,137,5],[116,6,137,7],[117,6,138,4,"restorePaint"],[117,18,138,16],[118,6,139,4,"materializePaint"],[118,22,139,20],[119,6,140,4,"getOpacity"],[119,16,140,14],[120,6,141,4,"setOpacity"],[121,4,142,2],[121,5,142,3],[122,2,143,0],[122,3,143,1],[123,0,143,2],[123,3]],"functionMap":{"names":["<global>","createDrawingContext","savePaint","getOpacity","setOpacity","saveBackdropFilter","getCurrentPaint","restorePaint","materializePaint","colorFilters.reduceRight$argument_0","imageFilters.reduceRight$argument_0","pathEffects.reduceRight$argument_0","get__paint"],"mappings":"AAA;oCCU;oBCwB;GDW;qBEE;GFE;qBGE;GHE;6BIE;GJa;0BKG;GLE;uBME;GNG;2BOE;iCCI;oEDC;iCEW;oEFC;gCGQ;mEHC;GPU;IWkB;KXE;CDM"},"hasCjsExports":false},"type":"js/module"}]}