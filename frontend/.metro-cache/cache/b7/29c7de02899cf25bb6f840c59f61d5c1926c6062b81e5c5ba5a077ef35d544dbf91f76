{"dependencies":[{"name":"expo-location","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":42,"index":42}}],"key":"GNP7AGCKsBRUhlnTZ4lIPpbkT9E=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopNamespace(e) {\n    if (e && e.__esModule) return e;\n    var n = {};\n    if (e) Object.keys(e).forEach(function (k) {\n      var d = Object.getOwnPropertyDescriptor(e, k);\n      Object.defineProperty(n, k, d.get ? d : {\n        enumerable: true,\n        get: function () {\n          return e[k];\n        }\n      });\n    });\n    n.default = e;\n    return n;\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return _default;\n    }\n  });\n  var _expoLocation = require(_dependencyMap[0], \"expo-location\");\n  var Location = _interopNamespace(_expoLocation);\n  class GpsService {\n    locationSubscription = null;\n    isTracking = false;\n    coordinates = [];\n    listeners = [];\n\n    /**\n     * Request location permissions\n     */\n    async requestPermissions() {\n      try {\n        const {\n          status: foregroundStatus\n        } = await Location.requestForegroundPermissionsAsync();\n        if (foregroundStatus !== 'granted') {\n          console.error('[GPS] Foreground permission denied');\n          return false;\n        }\n        console.log('[GPS] Permissions granted');\n        return true;\n      } catch (error) {\n        console.error('[GPS] Permission request error:', error);\n        return false;\n      }\n    }\n\n    /**\n     * Check if location services are enabled\n     */\n    async isLocationEnabled() {\n      try {\n        return await Location.hasServicesEnabledAsync();\n      } catch (error) {\n        console.error('[GPS] Error checking location services:', error);\n        return false;\n      }\n    }\n\n    /**\n     * Start tracking GPS coordinates\n     */\n    async startTracking() {\n      if (this.isTracking) {\n        console.warn('[GPS] Already tracking');\n        return true;\n      }\n      try {\n        const hasPermission = await this.requestPermissions();\n        if (!hasPermission) {\n          throw new Error('Location permission not granted');\n        }\n        const isEnabled = await this.isLocationEnabled();\n        if (!isEnabled) {\n          throw new Error('Location services are disabled');\n        }\n\n        // Clear previous coordinates\n        this.coordinates = [];\n\n        // Start watching location with high accuracy\n        this.locationSubscription = await Location.watchPositionAsync({\n          accuracy: Location.Accuracy.BestForNavigation,\n          timeInterval: 1000,\n          // Update every 1 second\n          distanceInterval: 1 // Update every 1 meter\n        }, location => {\n          const coordinate = {\n            latitude: location.coords.latitude,\n            longitude: location.coords.longitude,\n            altitude: location.coords.altitude,\n            accuracy: location.coords.accuracy,\n            speed: location.coords.speed,\n            timestamp: location.timestamp\n          };\n          this.coordinates.push(coordinate);\n\n          // Notify listeners\n          this.listeners.forEach(listener => listener(coordinate));\n          console.log('[GPS] Coordinate captured:', {\n            lat: coordinate.latitude.toFixed(6),\n            lon: coordinate.longitude.toFixed(6),\n            speed: coordinate.speed?.toFixed(1)\n          });\n        });\n        this.isTracking = true;\n        console.log('[GPS] Tracking started');\n        return true;\n      } catch (error) {\n        console.error('[GPS] Failed to start tracking:', error);\n        return false;\n      }\n    }\n\n    /**\n     * Stop tracking GPS coordinates\n     */\n    stopTracking() {\n      if (this.locationSubscription) {\n        this.locationSubscription.remove();\n        this.locationSubscription = null;\n      }\n      this.isTracking = false;\n      console.log(`[GPS] Tracking stopped. Captured ${this.coordinates.length} coordinates`);\n      const capturedCoordinates = [...this.coordinates];\n      this.coordinates = [];\n      return capturedCoordinates;\n    }\n\n    /**\n     * Get current coordinates\n     */\n    getCoordinates() {\n      return [...this.coordinates];\n    }\n\n    /**\n     * Subscribe to GPS updates\n     */\n    onCoordinateUpdate(listener) {\n      this.listeners.push(listener);\n\n      // Return unsubscribe function\n      return () => {\n        const index = this.listeners.indexOf(listener);\n        if (index > -1) {\n          this.listeners.splice(index, 1);\n        }\n      };\n    }\n\n    /**\n     * Get tracking status\n     */\n    isTrackingActive() {\n      return this.isTracking;\n    }\n\n    /**\n     * Clear all coordinates\n     */\n    clearCoordinates() {\n      this.coordinates = [];\n    }\n  }\n  var _default = new GpsService();\n});","lineCount":175,"map":[[22,2,167,0,"Object"],[22,8,167,0],[22,9,167,0,"defineProperty"],[22,23,167,0],[22,24,167,0,"exports"],[22,31,167,0],[23,4,167,0,"enumerable"],[23,14,167,0],[24,4,167,0,"get"],[24,7,167,0],[24,18,167,0,"get"],[24,19,167,0],[25,6,167,0],[25,13,167,0,"_default"],[25,21,167,0],[26,4,167,0],[27,2,167,0],[28,2,1,0],[28,6,1,0,"_expoLocation"],[28,19,1,0],[28,22,1,0,"require"],[28,29,1,0],[28,30,1,0,"_dependencyMap"],[28,44,1,0],[29,2,1,0],[29,6,1,0,"Location"],[29,14,1,0],[29,17,1,0,"_interopNamespace"],[29,34,1,0],[29,35,1,0,"_expoLocation"],[29,48,1,0],[30,2,12,0],[30,8,12,6,"GpsService"],[30,18,12,16],[30,19,12,17],[31,4,13,10,"locationSubscription"],[31,24,13,30],[31,27,13,71],[31,31,13,75],[32,4,14,10,"isTracking"],[32,14,14,20],[32,17,14,32],[32,22,14,37],[33,4,15,10,"coordinates"],[33,15,15,21],[33,18,15,41],[33,20,15,43],[34,4,16,10,"listeners"],[34,13,16,19],[34,16,16,63],[34,18,16,65],[36,4,18,2],[37,0,19,0],[38,0,20,0],[39,4,21,2],[39,10,21,8,"requestPermissions"],[39,28,21,26,"requestPermissions"],[39,29,21,26],[39,31,21,47],[40,6,22,4],[40,10,22,8],[41,8,23,6],[41,14,23,12],[42,10,23,14,"status"],[42,16,23,20],[42,18,23,22,"foregroundStatus"],[43,8,23,39],[43,9,23,40],[43,12,23,43],[43,18,23,49,"Location"],[43,26,23,57],[43,27,23,58,"requestForegroundPermissionsAsync"],[43,60,23,91],[43,61,23,92],[43,62,23,93],[44,8,25,6],[44,12,25,10,"foregroundStatus"],[44,28,25,26],[44,33,25,31],[44,42,25,40],[44,44,25,42],[45,10,26,8,"console"],[45,17,26,15],[45,18,26,16,"error"],[45,23,26,21],[45,24,26,22],[45,60,26,58],[45,61,26,59],[46,10,27,8],[46,17,27,15],[46,22,27,20],[47,8,28,6],[48,8,30,6,"console"],[48,15,30,13],[48,16,30,14,"log"],[48,19,30,17],[48,20,30,18],[48,47,30,45],[48,48,30,46],[49,8,31,6],[49,15,31,13],[49,19,31,17],[50,6,32,4],[50,7,32,5],[50,8,32,6],[50,15,32,13,"error"],[50,20,32,18],[50,22,32,20],[51,8,33,6,"console"],[51,15,33,13],[51,16,33,14,"error"],[51,21,33,19],[51,22,33,20],[51,55,33,53],[51,57,33,55,"error"],[51,62,33,60],[51,63,33,61],[52,8,34,6],[52,15,34,13],[52,20,34,18],[53,6,35,4],[54,4,36,2],[56,4,38,2],[57,0,39,0],[58,0,40,0],[59,4,41,2],[59,10,41,8,"isLocationEnabled"],[59,27,41,25,"isLocationEnabled"],[59,28,41,25],[59,30,41,46],[60,6,42,4],[60,10,42,8],[61,8,43,6],[61,15,43,13],[61,21,43,19,"Location"],[61,29,43,27],[61,30,43,28,"hasServicesEnabledAsync"],[61,53,43,51],[61,54,43,52],[61,55,43,53],[62,6,44,4],[62,7,44,5],[62,8,44,6],[62,15,44,13,"error"],[62,20,44,18],[62,22,44,20],[63,8,45,6,"console"],[63,15,45,13],[63,16,45,14,"error"],[63,21,45,19],[63,22,45,20],[63,63,45,61],[63,65,45,63,"error"],[63,70,45,68],[63,71,45,69],[64,8,46,6],[64,15,46,13],[64,20,46,18],[65,6,47,4],[66,4,48,2],[68,4,50,2],[69,0,51,0],[70,0,52,0],[71,4,53,2],[71,10,53,8,"startTracking"],[71,23,53,21,"startTracking"],[71,24,53,21],[71,26,53,42],[72,6,54,4],[72,10,54,8],[72,14,54,12],[72,15,54,13,"isTracking"],[72,25,54,23],[72,27,54,25],[73,8,55,6,"console"],[73,15,55,13],[73,16,55,14,"warn"],[73,20,55,18],[73,21,55,19],[73,45,55,43],[73,46,55,44],[74,8,56,6],[74,15,56,13],[74,19,56,17],[75,6,57,4],[76,6,59,4],[76,10,59,8],[77,8,60,6],[77,14,60,12,"hasPermission"],[77,27,60,25],[77,30,60,28],[77,36,60,34],[77,40,60,38],[77,41,60,39,"requestPermissions"],[77,59,60,57],[77,60,60,58],[77,61,60,59],[78,8,61,6],[78,12,61,10],[78,13,61,11,"hasPermission"],[78,26,61,24],[78,28,61,26],[79,10,62,8],[79,16,62,14],[79,20,62,18,"Error"],[79,25,62,23],[79,26,62,24],[79,59,62,57],[79,60,62,58],[80,8,63,6],[81,8,65,6],[81,14,65,12,"isEnabled"],[81,23,65,21],[81,26,65,24],[81,32,65,30],[81,36,65,34],[81,37,65,35,"isLocationEnabled"],[81,54,65,52],[81,55,65,53],[81,56,65,54],[82,8,66,6],[82,12,66,10],[82,13,66,11,"isEnabled"],[82,22,66,20],[82,24,66,22],[83,10,67,8],[83,16,67,14],[83,20,67,18,"Error"],[83,25,67,23],[83,26,67,24],[83,58,67,56],[83,59,67,57],[84,8,68,6],[86,8,70,6],[87,8,71,6],[87,12,71,10],[87,13,71,11,"coordinates"],[87,24,71,22],[87,27,71,25],[87,29,71,27],[89,8,73,6],[90,8,74,6],[90,12,74,10],[90,13,74,11,"locationSubscription"],[90,33,74,31],[90,36,74,34],[90,42,74,40,"Location"],[90,50,74,48],[90,51,74,49,"watchPositionAsync"],[90,69,74,67],[90,70,75,8],[91,10,76,10,"accuracy"],[91,18,76,18],[91,20,76,20,"Location"],[91,28,76,28],[91,29,76,29,"Accuracy"],[91,37,76,37],[91,38,76,38,"BestForNavigation"],[91,55,76,55],[92,10,77,10,"timeInterval"],[92,22,77,22],[92,24,77,24],[92,28,77,28],[93,10,77,30],[94,10,78,10,"distanceInterval"],[94,26,78,26],[94,28,78,28],[94,29,78,29],[94,30,78,31],[95,8,79,8],[95,9,79,9],[95,11,80,9,"location"],[95,19,80,17],[95,23,80,22],[96,10,81,10],[96,16,81,16,"coordinate"],[96,26,81,41],[96,29,81,44],[97,12,82,12,"latitude"],[97,20,82,20],[97,22,82,22,"location"],[97,30,82,30],[97,31,82,31,"coords"],[97,37,82,37],[97,38,82,38,"latitude"],[97,46,82,46],[98,12,83,12,"longitude"],[98,21,83,21],[98,23,83,23,"location"],[98,31,83,31],[98,32,83,32,"coords"],[98,38,83,38],[98,39,83,39,"longitude"],[98,48,83,48],[99,12,84,12,"altitude"],[99,20,84,20],[99,22,84,22,"location"],[99,30,84,30],[99,31,84,31,"coords"],[99,37,84,37],[99,38,84,38,"altitude"],[99,46,84,46],[100,12,85,12,"accuracy"],[100,20,85,20],[100,22,85,22,"location"],[100,30,85,30],[100,31,85,31,"coords"],[100,37,85,37],[100,38,85,38,"accuracy"],[100,46,85,46],[101,12,86,12,"speed"],[101,17,86,17],[101,19,86,19,"location"],[101,27,86,27],[101,28,86,28,"coords"],[101,34,86,34],[101,35,86,35,"speed"],[101,40,86,40],[102,12,87,12,"timestamp"],[102,21,87,21],[102,23,87,23,"location"],[102,31,87,31],[102,32,87,32,"timestamp"],[103,10,88,10],[103,11,88,11],[104,10,90,10],[104,14,90,14],[104,15,90,15,"coordinates"],[104,26,90,26],[104,27,90,27,"push"],[104,31,90,31],[104,32,90,32,"coordinate"],[104,42,90,42],[104,43,90,43],[106,10,92,10],[107,10,93,10],[107,14,93,14],[107,15,93,15,"listeners"],[107,24,93,24],[107,25,93,25,"forEach"],[107,32,93,32],[107,33,93,33,"listener"],[107,41,93,41],[107,45,93,45,"listener"],[107,53,93,53],[107,54,93,54,"coordinate"],[107,64,93,64],[107,65,93,65],[107,66,93,66],[108,10,95,10,"console"],[108,17,95,17],[108,18,95,18,"log"],[108,21,95,21],[108,22,95,22],[108,50,95,50],[108,52,95,52],[109,12,96,12,"lat"],[109,15,96,15],[109,17,96,17,"coordinate"],[109,27,96,27],[109,28,96,28,"latitude"],[109,36,96,36],[109,37,96,37,"toFixed"],[109,44,96,44],[109,45,96,45],[109,46,96,46],[109,47,96,47],[110,12,97,12,"lon"],[110,15,97,15],[110,17,97,17,"coordinate"],[110,27,97,27],[110,28,97,28,"longitude"],[110,37,97,37],[110,38,97,38,"toFixed"],[110,45,97,45],[110,46,97,46],[110,47,97,47],[110,48,97,48],[111,12,98,12,"speed"],[111,17,98,17],[111,19,98,19,"coordinate"],[111,29,98,29],[111,30,98,30,"speed"],[111,35,98,35],[111,37,98,37,"toFixed"],[111,44,98,44],[111,45,98,45],[111,46,98,46],[112,10,99,10],[112,11,99,11],[112,12,99,12],[113,8,100,8],[113,9,101,6],[113,10,101,7],[114,8,103,6],[114,12,103,10],[114,13,103,11,"isTracking"],[114,23,103,21],[114,26,103,24],[114,30,103,28],[115,8,104,6,"console"],[115,15,104,13],[115,16,104,14,"log"],[115,19,104,17],[115,20,104,18],[115,44,104,42],[115,45,104,43],[116,8,105,6],[116,15,105,13],[116,19,105,17],[117,6,106,4],[117,7,106,5],[117,8,106,6],[117,15,106,13,"error"],[117,20,106,18],[117,22,106,20],[118,8,107,6,"console"],[118,15,107,13],[118,16,107,14,"error"],[118,21,107,19],[118,22,107,20],[118,55,107,53],[118,57,107,55,"error"],[118,62,107,60],[118,63,107,61],[119,8,108,6],[119,15,108,13],[119,20,108,18],[120,6,109,4],[121,4,110,2],[123,4,112,2],[124,0,113,0],[125,0,114,0],[126,4,115,2,"stopTracking"],[126,16,115,14,"stopTracking"],[126,17,115,14],[126,19,115,34],[127,6,116,4],[127,10,116,8],[127,14,116,12],[127,15,116,13,"locationSubscription"],[127,35,116,33],[127,37,116,35],[128,8,117,6],[128,12,117,10],[128,13,117,11,"locationSubscription"],[128,33,117,31],[128,34,117,32,"remove"],[128,40,117,38],[128,41,117,39],[128,42,117,40],[129,8,118,6],[129,12,118,10],[129,13,118,11,"locationSubscription"],[129,33,118,31],[129,36,118,34],[129,40,118,38],[130,6,119,4],[131,6,121,4],[131,10,121,8],[131,11,121,9,"isTracking"],[131,21,121,19],[131,24,121,22],[131,29,121,27],[132,6,122,4,"console"],[132,13,122,11],[132,14,122,12,"log"],[132,17,122,15],[132,18,122,16],[132,54,122,52],[132,58,122,56],[132,59,122,57,"coordinates"],[132,70,122,68],[132,71,122,69,"length"],[132,77,122,75],[132,91,122,89],[132,92,122,90],[133,6,124,4],[133,12,124,10,"capturedCoordinates"],[133,31,124,29],[133,34,124,32],[133,35,124,33],[133,38,124,36],[133,42,124,40],[133,43,124,41,"coordinates"],[133,54,124,52],[133,55,124,53],[134,6,125,4],[134,10,125,8],[134,11,125,9,"coordinates"],[134,22,125,20],[134,25,125,23],[134,27,125,25],[135,6,127,4],[135,13,127,11,"capturedCoordinates"],[135,32,127,30],[136,4,128,2],[138,4,130,2],[139,0,131,0],[140,0,132,0],[141,4,133,2,"getCoordinates"],[141,18,133,16,"getCoordinates"],[141,19,133,16],[141,21,133,36],[142,6,134,4],[142,13,134,11],[142,14,134,12],[142,17,134,15],[142,21,134,19],[142,22,134,20,"coordinates"],[142,33,134,31],[142,34,134,32],[143,4,135,2],[145,4,137,2],[146,0,138,0],[147,0,139,0],[148,4,140,2,"onCoordinateUpdate"],[148,22,140,20,"onCoordinateUpdate"],[148,23,140,21,"listener"],[148,31,140,66],[148,33,140,80],[149,6,141,4],[149,10,141,8],[149,11,141,9,"listeners"],[149,20,141,18],[149,21,141,19,"push"],[149,25,141,23],[149,26,141,24,"listener"],[149,34,141,32],[149,35,141,33],[151,6,143,4],[152,6,144,4],[152,13,144,11],[152,19,144,17],[153,8,145,6],[153,14,145,12,"index"],[153,19,145,17],[153,22,145,20],[153,26,145,24],[153,27,145,25,"listeners"],[153,36,145,34],[153,37,145,35,"indexOf"],[153,44,145,42],[153,45,145,43,"listener"],[153,53,145,51],[153,54,145,52],[154,8,146,6],[154,12,146,10,"index"],[154,17,146,15],[154,20,146,18],[154,21,146,19],[154,22,146,20],[154,24,146,22],[155,10,147,8],[155,14,147,12],[155,15,147,13,"listeners"],[155,24,147,22],[155,25,147,23,"splice"],[155,31,147,29],[155,32,147,30,"index"],[155,37,147,35],[155,39,147,37],[155,40,147,38],[155,41,147,39],[156,8,148,6],[157,6,149,4],[157,7,149,5],[158,4,150,2],[160,4,152,2],[161,0,153,0],[162,0,154,0],[163,4,155,2,"isTrackingActive"],[163,20,155,18,"isTrackingActive"],[163,21,155,18],[163,23,155,30],[164,6,156,4],[164,13,156,11],[164,17,156,15],[164,18,156,16,"isTracking"],[164,28,156,26],[165,4,157,2],[167,4,159,2],[168,0,160,0],[169,0,161,0],[170,4,162,2,"clearCoordinates"],[170,20,162,18,"clearCoordinates"],[170,21,162,18],[170,23,162,27],[171,6,163,4],[171,10,163,8],[171,11,163,9,"coordinates"],[171,22,163,20],[171,25,163,23],[171,27,163,25],[172,4,164,2],[173,2,165,0],[174,2,167,0],[174,6,167,0,"_default"],[174,14,167,0],[174,17,167,15],[174,21,167,19,"GpsService"],[174,31,167,29],[174,32,167,30],[174,33,167,31],[175,0,167,32],[175,3]],"functionMap":{"names":["<global>","GpsService","requestPermissions","isLocationEnabled","startTracking","Location.watchPositionAsync$argument_1","listeners.forEach$argument_0","stopTracking","getCoordinates","onCoordinateUpdate","<anonymous>","isTrackingActive","clearCoordinates"],"mappings":"AAA;ACW;ECS;GDe;EEK;GFO;EGK;QC2B;iCCa,gCD;SDO;GHU;EMK;GNa;EOK;GPE;EQK;WCI;KDK;GRC;EUK;GVE;EWK;GXE;CDC"},"hasCjsExports":false},"type":"js/module"}]}