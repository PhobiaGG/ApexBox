{"dependencies":[{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":69,"index":69}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return _default;\n    }\n  });\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[0], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  const DEFAULT_SETTINGS = {\n    profile: {\n      displayName: 'Driver',\n      carModel: '',\n      carYear: ''\n    },\n    units: {\n      isMetric: true,\n      tempCelsius: true,\n      altitudeMetric: true,\n      time24Hour: true\n    },\n    theme: {\n      isDark: true,\n      accentColor: 'cyan'\n    },\n    connectivity: {\n      bleAutoConnect: false,\n      lastDevice: null\n    },\n    developerMode: false\n  };\n  class SettingsService {\n    storageKey = 'apexbox_settings';\n    async getSettings() {\n      try {\n        const stored = await AsyncStorage.default.getItem(this.storageKey);\n        if (stored) {\n          return {\n            ...DEFAULT_SETTINGS,\n            ...JSON.parse(stored)\n          };\n        }\n        return DEFAULT_SETTINGS;\n      } catch (error) {\n        console.error('[SettingsService] Error loading settings:', error);\n        return DEFAULT_SETTINGS;\n      }\n    }\n    async updateSettings(settings) {\n      try {\n        const current = await this.getSettings();\n        const updated = {\n          ...current,\n          ...settings\n        };\n        await AsyncStorage.default.setItem(this.storageKey, JSON.stringify(updated));\n        console.log('[SettingsService] Settings updated:', settings);\n      } catch (error) {\n        console.error('[SettingsService] Error updating settings:', error);\n        throw error;\n      }\n    }\n    async updateProfile(profile) {\n      const current = await this.getSettings();\n      await this.updateSettings({\n        profile: {\n          ...current.profile,\n          ...profile\n        }\n      });\n    }\n    async updateUnits(units) {\n      const current = await this.getSettings();\n      await this.updateSettings({\n        units: {\n          ...current.units,\n          ...units\n        }\n      });\n    }\n    async updateTheme(theme) {\n      const current = await this.getSettings();\n      await this.updateSettings({\n        theme: {\n          ...current.theme,\n          ...theme\n        }\n      });\n    }\n    async updateConnectivity(connectivity) {\n      const current = await this.getSettings();\n      await this.updateSettings({\n        connectivity: {\n          ...current.connectivity,\n          ...connectivity\n        }\n      });\n    }\n    async toggleDeveloperMode() {\n      const current = await this.getSettings();\n      const newValue = !current.developerMode;\n      await this.updateSettings({\n        developerMode: newValue\n      });\n      return newValue;\n    }\n    async resetSettings() {\n      await AsyncStorage.default.removeItem(this.storageKey);\n      console.log('[SettingsService] Settings reset to defaults');\n    }\n  }\n  var _default = new SettingsService();\n});","lineCount":123,"map":[[12,2,126,0,"Object"],[12,8,126,0],[12,9,126,0,"defineProperty"],[12,23,126,0],[12,24,126,0,"exports"],[12,31,126,0],[13,4,126,0,"enumerable"],[13,14,126,0],[14,4,126,0,"get"],[14,7,126,0],[14,18,126,0,"get"],[14,19,126,0],[15,6,126,0],[15,13,126,0,"_default"],[15,21,126,0],[16,4,126,0],[17,2,126,0],[18,2,1,0],[18,6,1,0,"_reactNativeAsyncStorageAsyncStorage"],[18,42,1,0],[18,45,1,0,"require"],[18,52,1,0],[18,53,1,0,"_dependencyMap"],[18,67,1,0],[19,2,1,0],[19,6,1,0,"AsyncStorage"],[19,18,1,0],[19,21,1,0,"_interopDefault"],[19,36,1,0],[19,37,1,0,"_reactNativeAsyncStorageAsyncStorage"],[19,73,1,0],[20,2,34,0],[20,8,34,6,"DEFAULT_SETTINGS"],[20,24,34,35],[20,27,34,38],[21,4,35,2,"profile"],[21,11,35,9],[21,13,35,11],[22,6,36,4,"displayName"],[22,17,36,15],[22,19,36,17],[22,27,36,25],[23,6,37,4,"carModel"],[23,14,37,12],[23,16,37,14],[23,18,37,16],[24,6,38,4,"carYear"],[24,13,38,11],[24,15,38,13],[25,4,39,2],[25,5,39,3],[26,4,40,2,"units"],[26,9,40,7],[26,11,40,9],[27,6,41,4,"isMetric"],[27,14,41,12],[27,16,41,14],[27,20,41,18],[28,6,42,4,"tempCelsius"],[28,17,42,15],[28,19,42,17],[28,23,42,21],[29,6,43,4,"altitudeMetric"],[29,20,43,18],[29,22,43,20],[29,26,43,24],[30,6,44,4,"time24Hour"],[30,16,44,14],[30,18,44,16],[31,4,45,2],[31,5,45,3],[32,4,46,2,"theme"],[32,9,46,7],[32,11,46,9],[33,6,47,4,"isDark"],[33,12,47,10],[33,14,47,12],[33,18,47,16],[34,6,48,4,"accentColor"],[34,17,48,15],[34,19,48,17],[35,4,49,2],[35,5,49,3],[36,4,50,2,"connectivity"],[36,16,50,14],[36,18,50,16],[37,6,51,4,"bleAutoConnect"],[37,20,51,18],[37,22,51,20],[37,27,51,25],[38,6,52,4,"lastDevice"],[38,16,52,14],[38,18,52,16],[39,4,53,2],[39,5,53,3],[40,4,54,2,"developerMode"],[40,17,54,15],[40,19,54,17],[41,2,55,0],[41,3,55,1],[42,2,57,0],[42,8,57,6,"SettingsService"],[42,23,57,21],[42,24,57,22],[43,4,58,10,"storageKey"],[43,14,58,20],[43,17,58,23],[43,35,58,41],[44,4,60,2],[44,10,60,8,"getSettings"],[44,21,60,19,"getSettings"],[44,22,60,19],[44,24,60,44],[45,6,61,4],[45,10,61,8],[46,8,62,6],[46,14,62,12,"stored"],[46,20,62,18],[46,23,62,21],[46,29,62,27,"AsyncStorage"],[46,41,62,39],[46,42,62,39,"default"],[46,49,62,39],[46,50,62,40,"getItem"],[46,57,62,47],[46,58,62,48],[46,62,62,52],[46,63,62,53,"storageKey"],[46,73,62,63],[46,74,62,64],[47,8,63,6],[47,12,63,10,"stored"],[47,18,63,16],[47,20,63,18],[48,10,64,8],[48,17,64,15],[49,12,64,17],[49,15,64,20,"DEFAULT_SETTINGS"],[49,31,64,36],[50,12,64,38],[50,15,64,41,"JSON"],[50,19,64,45],[50,20,64,46,"parse"],[50,25,64,51],[50,26,64,52,"stored"],[50,32,64,58],[51,10,64,60],[51,11,64,61],[52,8,65,6],[53,8,66,6],[53,15,66,13,"DEFAULT_SETTINGS"],[53,31,66,29],[54,6,67,4],[54,7,67,5],[54,8,67,6],[54,15,67,13,"error"],[54,20,67,18],[54,22,67,20],[55,8,68,6,"console"],[55,15,68,13],[55,16,68,14,"error"],[55,21,68,19],[55,22,68,20],[55,65,68,63],[55,67,68,65,"error"],[55,72,68,70],[55,73,68,71],[56,8,69,6],[56,15,69,13,"DEFAULT_SETTINGS"],[56,31,69,29],[57,6,70,4],[58,4,71,2],[59,4,73,2],[59,10,73,8,"updateSettings"],[59,24,73,22,"updateSettings"],[59,25,73,23,"settings"],[59,33,73,53],[59,35,73,70],[60,6,74,4],[60,10,74,8],[61,8,75,6],[61,14,75,12,"current"],[61,21,75,19],[61,24,75,22],[61,30,75,28],[61,34,75,32],[61,35,75,33,"getSettings"],[61,46,75,44],[61,47,75,45],[61,48,75,46],[62,8,76,6],[62,14,76,12,"updated"],[62,21,76,19],[62,24,76,22],[63,10,76,24],[63,13,76,27,"current"],[63,20,76,34],[64,10,76,36],[64,13,76,39,"settings"],[65,8,76,48],[65,9,76,49],[66,8,77,6],[66,14,77,12,"AsyncStorage"],[66,26,77,24],[66,27,77,24,"default"],[66,34,77,24],[66,35,77,25,"setItem"],[66,42,77,32],[66,43,77,33],[66,47,77,37],[66,48,77,38,"storageKey"],[66,58,77,48],[66,60,77,50,"JSON"],[66,64,77,54],[66,65,77,55,"stringify"],[66,74,77,64],[66,75,77,65,"updated"],[66,82,77,72],[66,83,77,73],[66,84,77,74],[67,8,78,6,"console"],[67,15,78,13],[67,16,78,14,"log"],[67,19,78,17],[67,20,78,18],[67,57,78,55],[67,59,78,57,"settings"],[67,67,78,65],[67,68,78,66],[68,6,79,4],[68,7,79,5],[68,8,79,6],[68,15,79,13,"error"],[68,20,79,18],[68,22,79,20],[69,8,80,6,"console"],[69,15,80,13],[69,16,80,14,"error"],[69,21,80,19],[69,22,80,20],[69,66,80,64],[69,68,80,66,"error"],[69,73,80,71],[69,74,80,72],[70,8,81,6],[70,14,81,12,"error"],[70,19,81,17],[71,6,82,4],[72,4,83,2],[73,4,85,2],[73,10,85,8,"updateProfile"],[73,23,85,21,"updateProfile"],[73,24,85,22,"profile"],[73,31,85,51],[73,33,85,68],[74,6,86,4],[74,12,86,10,"current"],[74,19,86,17],[74,22,86,20],[74,28,86,26],[74,32,86,30],[74,33,86,31,"getSettings"],[74,44,86,42],[74,45,86,43],[74,46,86,44],[75,6,87,4],[75,12,87,10],[75,16,87,14],[75,17,87,15,"updateSettings"],[75,31,87,29],[75,32,87,30],[76,8,88,6,"profile"],[76,15,88,13],[76,17,88,15],[77,10,88,17],[77,13,88,20,"current"],[77,20,88,27],[77,21,88,28,"profile"],[77,28,88,35],[78,10,88,37],[78,13,88,40,"profile"],[79,8,88,48],[80,6,89,4],[80,7,89,5],[80,8,89,6],[81,4,90,2],[82,4,92,2],[82,10,92,8,"updateUnits"],[82,21,92,19,"updateUnits"],[82,22,92,20,"units"],[82,27,92,49],[82,29,92,66],[83,6,93,4],[83,12,93,10,"current"],[83,19,93,17],[83,22,93,20],[83,28,93,26],[83,32,93,30],[83,33,93,31,"getSettings"],[83,44,93,42],[83,45,93,43],[83,46,93,44],[84,6,94,4],[84,12,94,10],[84,16,94,14],[84,17,94,15,"updateSettings"],[84,31,94,29],[84,32,94,30],[85,8,95,6,"units"],[85,13,95,11],[85,15,95,13],[86,10,95,15],[86,13,95,18,"current"],[86,20,95,25],[86,21,95,26,"units"],[86,26,95,31],[87,10,95,33],[87,13,95,36,"units"],[88,8,95,42],[89,6,96,4],[89,7,96,5],[89,8,96,6],[90,4,97,2],[91,4,99,2],[91,10,99,8,"updateTheme"],[91,21,99,19,"updateTheme"],[91,22,99,20,"theme"],[91,27,99,49],[91,29,99,66],[92,6,100,4],[92,12,100,10,"current"],[92,19,100,17],[92,22,100,20],[92,28,100,26],[92,32,100,30],[92,33,100,31,"getSettings"],[92,44,100,42],[92,45,100,43],[92,46,100,44],[93,6,101,4],[93,12,101,10],[93,16,101,14],[93,17,101,15,"updateSettings"],[93,31,101,29],[93,32,101,30],[94,8,102,6,"theme"],[94,13,102,11],[94,15,102,13],[95,10,102,15],[95,13,102,18,"current"],[95,20,102,25],[95,21,102,26,"theme"],[95,26,102,31],[96,10,102,33],[96,13,102,36,"theme"],[97,8,102,42],[98,6,103,4],[98,7,103,5],[98,8,103,6],[99,4,104,2],[100,4,106,2],[100,10,106,8,"updateConnectivity"],[100,28,106,26,"updateConnectivity"],[100,29,106,27,"connectivity"],[100,41,106,70],[100,43,106,87],[101,6,107,4],[101,12,107,10,"current"],[101,19,107,17],[101,22,107,20],[101,28,107,26],[101,32,107,30],[101,33,107,31,"getSettings"],[101,44,107,42],[101,45,107,43],[101,46,107,44],[102,6,108,4],[102,12,108,10],[102,16,108,14],[102,17,108,15,"updateSettings"],[102,31,108,29],[102,32,108,30],[103,8,109,6,"connectivity"],[103,20,109,18],[103,22,109,20],[104,10,109,22],[104,13,109,25,"current"],[104,20,109,32],[104,21,109,33,"connectivity"],[104,33,109,45],[105,10,109,47],[105,13,109,50,"connectivity"],[106,8,109,63],[107,6,110,4],[107,7,110,5],[107,8,110,6],[108,4,111,2],[109,4,113,2],[109,10,113,8,"toggleDeveloperMode"],[109,29,113,27,"toggleDeveloperMode"],[109,30,113,27],[109,32,113,48],[110,6,114,4],[110,12,114,10,"current"],[110,19,114,17],[110,22,114,20],[110,28,114,26],[110,32,114,30],[110,33,114,31,"getSettings"],[110,44,114,42],[110,45,114,43],[110,46,114,44],[111,6,115,4],[111,12,115,10,"newValue"],[111,20,115,18],[111,23,115,21],[111,24,115,22,"current"],[111,31,115,29],[111,32,115,30,"developerMode"],[111,45,115,43],[112,6,116,4],[112,12,116,10],[112,16,116,14],[112,17,116,15,"updateSettings"],[112,31,116,29],[112,32,116,30],[113,8,116,32,"developerMode"],[113,21,116,45],[113,23,116,47,"newValue"],[114,6,116,56],[114,7,116,57],[114,8,116,58],[115,6,117,4],[115,13,117,11,"newValue"],[115,21,117,19],[116,4,118,2],[117,4,120,2],[117,10,120,8,"resetSettings"],[117,23,120,21,"resetSettings"],[117,24,120,21],[117,26,120,39],[118,6,121,4],[118,12,121,10,"AsyncStorage"],[118,24,121,22],[118,25,121,22,"default"],[118,32,121,22],[118,33,121,23,"removeItem"],[118,43,121,33],[118,44,121,34],[118,48,121,38],[118,49,121,39,"storageKey"],[118,59,121,49],[118,60,121,50],[119,6,122,4,"console"],[119,13,122,11],[119,14,122,12,"log"],[119,17,122,15],[119,18,122,16],[119,64,122,62],[119,65,122,63],[120,4,123,2],[121,2,124,0],[122,2,126,0],[122,6,126,0,"_default"],[122,14,126,0],[122,17,126,15],[122,21,126,19,"SettingsService"],[122,36,126,34],[122,37,126,35],[122,38,126,36],[123,0,126,37],[123,3]],"functionMap":{"names":["<global>","SettingsService","getSettings","updateSettings","updateProfile","updateUnits","updateTheme","updateConnectivity","toggleDeveloperMode","resetSettings"],"mappings":"AAA;ACwD;ECG;GDW;EEE;GFU;EGE;GHK;EIE;GJK;EKE;GLK;EME;GNK;EOE;GPK;EQE;GRG;CDC"},"hasCjsExports":false},"type":"js/module"}]}